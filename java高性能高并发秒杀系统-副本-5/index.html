<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://kayleh.top/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://kayleh.top/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github-style.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/light.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/dark.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/syntax.css' />
    <title>Java高性能高并发秒杀系统(6) - Kayleh</title>
    
    <link rel="icon" type="image/x-icon" href='https://kayleh.top/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="1. 页面缓存优化 1.1 未经优化之前的代码 @RequestMapping(&amp;#34;/to_list&amp;#34;) public String toList(Model model,MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); return &amp;#34;goods_list&amp;#34;; } 1234567 1.2 优化产生的改变 @RequestMapping(value = &amp;#34;/to_list&amp;#34;,produces = &amp;#34;text/html&amp;#34;) @ResponseBody public String toList(HttpServletRequest request, HttpServletResponse response, Model model, MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); //在有缓存的情况下，取出缓存  String html = redisService.get(GoodsKey.goodsKeyPrefix, &amp;#34;&amp;#34;, String.class); if(! StringUtils.isEmpty(html)) return html; //在没有缓存的时候，手动渲染，添加缓存  List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); IWebContext ctx = new WebContext(request,response,request.getServletContext(),request.getLocale(),model.asMap()); html = thymeleafViewResolver.getTemplateEngine().process(&amp;#34;goods_list&amp;#34;,ctx);//这里需要注入IContext  if(!StringUtils.isEmpty(html)){ redisService.set(GoodsKey.goodsKeyPrefix,&amp;#34;&amp;#34;,html); } return html; //return &amp;#34;goods_list&amp;#34;;  }  首先，我们应用缓存，一定要引入RedisService   @RequestMapping(value = “/to_list”,produces = &amp;quot;text/html&amp;quot;)produces标注了返回值的类型，必须与@ResponseBody搭配使用 手动渲染过程中，我们要注入ThymeleafViewResolver，这个是框架给我们准备好的Bean，利用它来渲染页面，其中第二个参数，需要注入IContext 在Spring5版本中，SpringWebContext已经没有了，我们需要使用WebContext来代替。它剔除了之前对ApplicationContext 过多的依赖，现在thymeleaf渲染不再过多依赖spring容器 再者，我们对Redis缓存的时间设置了60秒的限制，超过60秒过期，这个时间不宜过长。在60秒内我们看到的网页一直一样是暂且可以接受的   2." />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://kayleh.top/java%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F-%E5%89%AF%E6%9C%AC-5/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Java高性能高并发秒杀系统(6) - Kayleh" />
<meta name="twitter:description"
  content="1. 页面缓存优化 1.1 未经优化之前的代码 @RequestMapping(&amp;#34;/to_list&amp;#34;) public String toList(Model model,MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); return &amp;#34;goods_list&amp;#34;; } 1234567 1.2 优化产生的改变 @RequestMapping(value = &amp;#34;/to_list&amp;#34;,produces = &amp;#34;text/html&amp;#34;) @ResponseBody public String toList(HttpServletRequest request, HttpServletResponse response, Model model, MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); //在有缓存的情况下，取出缓存  String html = redisService.get(GoodsKey.goodsKeyPrefix, &amp;#34;&amp;#34;, String.class); if(! StringUtils.isEmpty(html)) return html; //在没有缓存的时候，手动渲染，添加缓存  List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); IWebContext ctx = new WebContext(request,response,request.getServletContext(),request.getLocale(),model.asMap()); html = thymeleafViewResolver.getTemplateEngine().process(&amp;#34;goods_list&amp;#34;,ctx);//这里需要注入IContext  if(!StringUtils.isEmpty(html)){ redisService.set(GoodsKey.goodsKeyPrefix,&amp;#34;&amp;#34;,html); } return html; //return &amp;#34;goods_list&amp;#34;;  }  首先，我们应用缓存，一定要引入RedisService   @RequestMapping(value = “/to_list”,produces = &amp;quot;text/html&amp;quot;)produces标注了返回值的类型，必须与@ResponseBody搭配使用 手动渲染过程中，我们要注入ThymeleafViewResolver，这个是框架给我们准备好的Bean，利用它来渲染页面，其中第二个参数，需要注入IContext 在Spring5版本中，SpringWebContext已经没有了，我们需要使用WebContext来代替。它剔除了之前对ApplicationContext 过多的依赖，现在thymeleaf渲染不再过多依赖spring容器 再者，我们对Redis缓存的时间设置了60秒的限制，超过60秒过期，这个时间不宜过长。在60秒内我们看到的网页一直一样是暂且可以接受的   2." />
<meta name="twitter:site" content="https://kayleh.top" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://kayleh.top">


<meta property="og:type" content="article" />
<meta property="og:title" content="Java高性能高并发秒杀系统(6) - Kayleh">
<meta property="og:description"
  content="1. 页面缓存优化 1.1 未经优化之前的代码 @RequestMapping(&amp;#34;/to_list&amp;#34;) public String toList(Model model,MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); return &amp;#34;goods_list&amp;#34;; } 1234567 1.2 优化产生的改变 @RequestMapping(value = &amp;#34;/to_list&amp;#34;,produces = &amp;#34;text/html&amp;#34;) @ResponseBody public String toList(HttpServletRequest request, HttpServletResponse response, Model model, MiaoShaUser user){ model.addAttribute(&amp;#34;user&amp;#34;,user); //在有缓存的情况下，取出缓存  String html = redisService.get(GoodsKey.goodsKeyPrefix, &amp;#34;&amp;#34;, String.class); if(! StringUtils.isEmpty(html)) return html; //在没有缓存的时候，手动渲染，添加缓存  List&amp;lt;GoodsVo&amp;gt; goodsVos = goodsService.listGoodsVo(); model.addAttribute(&amp;#34;goodsList&amp;#34;,goodsVos); IWebContext ctx = new WebContext(request,response,request.getServletContext(),request.getLocale(),model.asMap()); html = thymeleafViewResolver.getTemplateEngine().process(&amp;#34;goods_list&amp;#34;,ctx);//这里需要注入IContext  if(!StringUtils.isEmpty(html)){ redisService.set(GoodsKey.goodsKeyPrefix,&amp;#34;&amp;#34;,html); } return html; //return &amp;#34;goods_list&amp;#34;;  }  首先，我们应用缓存，一定要引入RedisService   @RequestMapping(value = “/to_list”,produces = &amp;quot;text/html&amp;quot;)produces标注了返回值的类型，必须与@ResponseBody搭配使用 手动渲染过程中，我们要注入ThymeleafViewResolver，这个是框架给我们准备好的Bean，利用它来渲染页面，其中第二个参数，需要注入IContext 在Spring5版本中，SpringWebContext已经没有了，我们需要使用WebContext来代替。它剔除了之前对ApplicationContext 过多的依赖，现在thymeleaf渲染不再过多依赖spring容器 再者，我们对Redis缓存的时间设置了60秒的限制，超过60秒过期，这个时间不宜过长。在60秒内我们看到的网页一直一样是暂且可以接受的   2." />
<meta property="og:url" content="https://kayleh.top/java%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F-%E5%89%AF%E6%9C%AC-5/" />
<meta property="og:site_name" content="Java高性能高并发秒杀系统(6)" />
<meta property="og:image"
  content="https://kayleh.top">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2020-11-08 20:14:45 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://kayleh.top">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://kayleh.top">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://kayleh.top">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://kayleh.top">
                  <img class=" avatar-user"
                    src="http://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://kayleh.top">Kayleh</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://kayleh.top/java%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F-%E5%89%AF%E6%9C%AC-5/">Java高性能高并发秒杀系统(6)</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sun, 08 Nov 2020 20:14:45 &#43;0800"
                    class="no-wrap">
                    Sun, 08 Nov 2020 20:14:45 &#43;0800</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div class="file-header d-flex flex-md-items-center flex-items-start">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    2068 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/project">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      project
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5">
                <article class="markdown-body entry-content container-lg"><h2 id="1-页面缓存优化">1. 页面缓存优化</h2>
<h3 id="11-未经优化之前的代码">1.1 未经优化之前的代码</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/to_list&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toList</span><span style="color:#f92672">(</span>Model model<span style="color:#f92672">,</span>MiaoShaUser user<span style="color:#f92672">){</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span>user<span style="color:#f92672">);</span>
        List<span style="color:#f92672">&lt;</span>GoodsVo<span style="color:#f92672">&gt;</span> goodsVos <span style="color:#f92672">=</span> goodsService<span style="color:#f92672">.</span><span style="color:#a6e22e">listGoodsVo</span><span style="color:#f92672">();</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;goodsList&#34;</span><span style="color:#f92672">,</span>goodsVos<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;goods_list&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
1234567
</code></pre></div><h3 id="12-优化产生的改变">1.2 优化产生的改变</h3>
<p><img src="D:%5CBlog%5Csource_posts%5CJava%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%5C20200714171300573.png" alt="在这里插入图片描述"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/to_list&#34;</span><span style="color:#f92672">,</span>produces <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;text/html&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#a6e22e">@ResponseBody</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toList</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">,</span> Model model<span style="color:#f92672">,</span> MiaoShaUser user<span style="color:#f92672">){</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span>user<span style="color:#f92672">);</span>
        <span style="color:#75715e">//在有缓存的情况下，取出缓存
</span><span style="color:#75715e"></span>        String html <span style="color:#f92672">=</span> redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>GoodsKey<span style="color:#f92672">.</span><span style="color:#a6e22e">goodsKeyPrefix</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span> String<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">if</span><span style="color:#f92672">(!</span> StringUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span>html<span style="color:#f92672">))</span> <span style="color:#66d9ef">return</span> html<span style="color:#f92672">;</span>

        <span style="color:#75715e">//在没有缓存的时候，手动渲染，添加缓存
</span><span style="color:#75715e"></span>        List<span style="color:#f92672">&lt;</span>GoodsVo<span style="color:#f92672">&gt;</span> goodsVos <span style="color:#f92672">=</span> goodsService<span style="color:#f92672">.</span><span style="color:#a6e22e">listGoodsVo</span><span style="color:#f92672">();</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;goodsList&#34;</span><span style="color:#f92672">,</span>goodsVos<span style="color:#f92672">);</span>
        IWebContext ctx <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WebContext<span style="color:#f92672">(</span>request<span style="color:#f92672">,</span>response<span style="color:#f92672">,</span>request<span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">(),</span>request<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocale</span><span style="color:#f92672">(),</span>model<span style="color:#f92672">.</span><span style="color:#a6e22e">asMap</span><span style="color:#f92672">());</span>
        html <span style="color:#f92672">=</span> thymeleafViewResolver<span style="color:#f92672">.</span><span style="color:#a6e22e">getTemplateEngine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">process</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;goods_list&#34;</span><span style="color:#f92672">,</span>ctx<span style="color:#f92672">);</span><span style="color:#75715e">//这里需要注入IContext
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(!</span>StringUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span>html<span style="color:#f92672">)){</span>
            redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>GoodsKey<span style="color:#f92672">.</span><span style="color:#a6e22e">goodsKeyPrefix</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span>html<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">return</span> html<span style="color:#f92672">;</span>
        <span style="color:#75715e">//return &#34;goods_list&#34;;
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

</code></pre></div><ul>
<li>首先，我们应用缓存，一定要引入RedisService</li>
</ul>
<ol>
<li>@RequestMapping(value = “/to_list”,<code>produces = &quot;text/html&quot;</code>)produces标注了返回值的类型，必须与@ResponseBody搭配使用</li>
<li>手动渲染过程中，我们要注入<code>ThymeleafViewResolver</code>，这个是框架给我们准备好的Bean，利用它来渲染页面，其中第二个参数，需要注入<code>IContext</code></li>
<li>在<code>Spring5</code>版本中，<code>SpringWebContext</code>已经没有了，我们需要使用<code>WebContext</code>来代替。它剔除了之前对ApplicationContext 过多的依赖，现在thymeleaf渲染不再过多依赖spring容器</li>
<li>再者，我们对Redis缓存的时间设置了<code>60秒</code>的限制，超过60秒过期，这个时间不宜过长。在60秒内我们看到的网页一直一样是暂且可以接受的</li>
</ol>
<hr>
<h2 id="2-对象缓存与缓存更新">2. 对象缓存与缓存更新</h2>
<h3 id="21-对象缓存">2.1 对象缓存</h3>
<p>对象缓存，我们之前已经做过了一个，就是在MiaoshaService中的<code>getByToken</code>方法，通过token值，从Redis中获取对象信息。
这次，我们实现一个getById()方法，即通过Id值，从Redis中获取user对象。（对象缓存<code>没有设置过期时间</code>，而且对象缓存是<code>粒度最小</code>的缓存）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> MiaoShaUser <span style="color:#a6e22e">getById</span><span style="color:#f92672">(</span><span style="color:#66d9ef">long</span> id<span style="color:#f92672">){</span>
        <span style="color:#75715e">//先从缓存中取
</span><span style="color:#75715e"></span>        MiaoShaUser user <span style="color:#f92672">=</span> redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>MiaoShaUserKey<span style="color:#f92672">.</span><span style="color:#a6e22e">idPrefix</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> id<span style="color:#f92672">,</span> MiaoShaUser<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>user <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">return</span> user<span style="color:#f92672">;</span>

        <span style="color:#75715e">//缓存中没有，从数据库中取，并且把它添加到缓存中
</span><span style="color:#75715e"></span>        user <span style="color:#f92672">=</span> miaoShaUserDao<span style="color:#f92672">.</span><span style="color:#a6e22e">getById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>user <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>MiaoShaUserKey<span style="color:#f92672">.</span><span style="color:#a6e22e">idPrefix</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> id<span style="color:#f92672">,</span>user<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">return</span> user<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
1234567891011
</code></pre></div><h3 id="22-缓存更新">2.2 缓存更新</h3>
<p>我们模拟一个场景，我们要对密码进行修改，那么缓存也需要修改，现在先列出视频中给的方法，通过Id值取出用户，修改数据库，之后，对token-user缓存进行修改，id-user缓存进行删除</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">updatePassword</span><span style="color:#f92672">(</span><span style="color:#66d9ef">long</span> id<span style="color:#f92672">,</span>String formPass<span style="color:#f92672">,</span>String token<span style="color:#f92672">){</span>
        <span style="color:#75715e">//取出user
</span><span style="color:#75715e"></span>        MiaoShaUser user <span style="color:#f92672">=</span> getById<span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>
        <span style="color:#75715e">//没有这个用户
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>user <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> GlobalException<span style="color:#f92672">(</span>CodeMsg<span style="color:#f92672">.</span><span style="color:#a6e22e">MOBILE_NOT_EXIST</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">//修改密码，更新数据库
</span><span style="color:#75715e"></span>        user<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span>MD5Util<span style="color:#f92672">.</span><span style="color:#a6e22e">formPassToDBPass</span><span style="color:#f92672">(</span>formPass<span style="color:#f92672">,</span>user<span style="color:#f92672">.</span><span style="color:#a6e22e">getSalt</span><span style="color:#f92672">()));</span>
        miaoShaUserDao<span style="color:#f92672">.</span><span style="color:#a6e22e">update</span><span style="color:#f92672">(</span>user<span style="color:#f92672">);</span>
        <span style="color:#75715e">//更新缓存,token-user缓存（登陆用的）这个不能删除，id-user缓存删除
</span><span style="color:#75715e"></span>        redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>MiaoShaUserKey<span style="color:#f92672">.</span><span style="color:#a6e22e">getTokenPrefix</span><span style="color:#f92672">,</span>token<span style="color:#f92672">,</span>user<span style="color:#f92672">);</span>
        redisService<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span>MiaoShaUserKey<span style="color:#f92672">.</span><span style="color:#a6e22e">idPrefix</span><span style="color:#f92672">,</span>id<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
123456789101112131415
</code></pre></div><ul>
<li><strong>个人理解</strong>：我们上网时的多数场景，修改完密码之后都要我们进行重新登录，而且在我们这个项目中，登录的过程中会对token-user缓存进行重新添加，那么我们在修改密码的时候，可以直接将token-user和id-user全部都删除，而不需要对其中的缓存进行值的修改。</li>
</ul>
<hr>
<h2 id="3-页面静态化">3. 页面静态化</h2>
<h3 id="31-将商品详情页进行静态化处理订单详情也做了静态化">3.1 将商品详情页进行静态化处理（订单详情也做了静态化）</h3>
<p>通常情况下，页面不采用第一种缓存的方式实现优化，而是通过静态化处理，比较常用的技术有Vue。通过静态化处理，我们将页面缓存在客户端浏览器中，不需要与服务器交互就能访问到页面。</p>
<p>以下，我们用JQuery实现。</p>
<h4 id="311-对后端代码进行处理">3.1.1 对后端代码进行处理</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/detail/{goodsId}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#a6e22e">@ResponseBody</span>
    <span style="color:#66d9ef">public</span> Result<span style="color:#f92672">&lt;</span>GoodsDetailVo<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">toDetail</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">,</span> Model model<span style="color:#f92672">,</span> MiaoShaUser user<span style="color:#f92672">,</span> <span style="color:#a6e22e">@PathVariable</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;goodsId&#34;</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">long</span> goodsId<span style="color:#f92672">){</span>

        GoodsVo goodsVo <span style="color:#f92672">=</span> goodsService<span style="color:#f92672">.</span><span style="color:#a6e22e">getGoodsVoByGoodsId</span><span style="color:#f92672">(</span>goodsId<span style="color:#f92672">);</span>

        <span style="color:#75715e">//秒杀开始、结束时间，当前时间
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">long</span> startDate <span style="color:#f92672">=</span> goodsVo<span style="color:#f92672">.</span><span style="color:#a6e22e">getStartDate</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getTime</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">long</span> endDate <span style="color:#f92672">=</span> goodsVo<span style="color:#f92672">.</span><span style="color:#a6e22e">getEndDate</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getTime</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">long</span> now <span style="color:#f92672">=</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">currentTimeMillis</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">//秒杀状态，0为没开始，1为正在进行，2为秒杀已经结束
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> miaoshaStatus <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
        <span style="color:#75715e">//距离秒杀剩余的时间
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> remainSeconds <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>

        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>now <span style="color:#f92672">&lt;</span> startDate<span style="color:#f92672">){</span>
            <span style="color:#75715e">//秒杀没开始，进行倒计时
</span><span style="color:#75715e"></span>            remainSeconds <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>startDate <span style="color:#f92672">-</span> now<span style="color:#f92672">)</span> <span style="color:#f92672">/</span> 1000<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>now <span style="color:#f92672">&gt;</span> endDate<span style="color:#f92672">){</span>
            <span style="color:#75715e">//秒杀已经结束
</span><span style="color:#75715e"></span>            miaoshaStatus <span style="color:#f92672">=</span> 2<span style="color:#f92672">;</span>
            remainSeconds <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">//秒杀进行时
</span><span style="color:#75715e"></span>            remainSeconds <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
            miaoshaStatus <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        GoodsDetailVo goodsDetailVo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GoodsDetailVo<span style="color:#f92672">();</span>
        goodsDetailVo<span style="color:#f92672">.</span><span style="color:#a6e22e">setGoods</span><span style="color:#f92672">(</span>goodsVo<span style="color:#f92672">);</span>
        goodsDetailVo<span style="color:#f92672">.</span><span style="color:#a6e22e">setUser</span><span style="color:#f92672">(</span>user<span style="color:#f92672">);</span>
        goodsDetailVo<span style="color:#f92672">.</span><span style="color:#a6e22e">setMiaoshaStatus</span><span style="color:#f92672">(</span>miaoshaStatus<span style="color:#f92672">);</span>
        goodsDetailVo<span style="color:#f92672">.</span><span style="color:#a6e22e">setRemainSeconds</span><span style="color:#f92672">(</span>remainSeconds<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">return</span> Result<span style="color:#f92672">.</span><span style="color:#a6e22e">success</span><span style="color:#f92672">(</span>goodsDetailVo<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
123456789101112131415161718192021222324252627282930313233343536
</code></pre></div><ul>
<li>@RequestMapping中，去掉produces属性</li>
<li><code>去掉Model向前端传值的逻辑</code>，只留下业务处理过程，并将所需要的的值封装在<code>GoodsDetailVo</code>对象中</li>
<li><code>注意事项</code>在GoodsDetailVo中的属性字段要与前端所需要的字段名保持一致，如下所示，这样才能获取</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Data</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GoodsDetailVo</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> miaoshaStatus<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> remainSeconds<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> GoodsVo goods<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> MiaoShaUser user<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

12345678
</code></pre></div><p>对应前端
<img src="D:%5CBlog%5Csource_posts%5CJava%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%5C20200714222548967.png" alt="在这里插入图片描述"></p>
<h4 id="312-对前端跳转的修改">3.1.2 对前端跳转的修改</h4>
<p>我们从商品列表页面跳转到商品详情页，修改为如下
<img src="D:%5CBlog%5Csource_posts%5CJava%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%5C20200714222755538.png" alt="在这里插入图片描述">
注意其中<code>/goods_detail.htm</code>，它是放在static目录下的静态资源，为了防止视图解析器的跳转，将<code>html写为htm</code>
<img src="D:%5CBlog%5Csource_posts%5CJava%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%5C20200714223101420.png" alt="在这里插入图片描述"></p>
<h4 id="313-在applicationproperties中配置">3.1.3 在application.properties中配置</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#66d9ef">static</span>
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">-</span>mappings<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">cache</span><span style="color:#f92672">.</span><span style="color:#a6e22e">period</span><span style="color:#f92672">=</span> 3600 <span style="color:#960050;background-color:#1e0010">#</span>缓存时间
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">chain</span><span style="color:#f92672">.</span><span style="color:#a6e22e">cache</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span> 
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">chain</span><span style="color:#f92672">.</span><span style="color:#a6e22e">enabled</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
<span style="color:#960050;background-color:#1e0010">#</span>spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">chain</span><span style="color:#f92672">.</span><span style="color:#a6e22e">gzipped</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">chain</span><span style="color:#f92672">.</span><span style="color:#a6e22e">html</span><span style="color:#f92672">-</span>application<span style="color:#f92672">-</span>cache<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
spring<span style="color:#f92672">.</span><span style="color:#a6e22e">resources</span><span style="color:#f92672">.</span><span style="color:#a6e22e">static</span><span style="color:#f92672">-</span>locations<span style="color:#f92672">=</span>classpath<span style="color:#f92672">:/</span><span style="color:#66d9ef">static</span><span style="color:#f92672">/</span>
12345678
</code></pre></div><h2 id="4-post请求和get请求的区别">4. POST请求和GET请求的区别</h2>
<ul>
<li>GET：这个请求是幂等的，从服务端获取数据，反复获取不会对数据有影响。因为GET因为是读取，就可以对GET请求的数据做缓存。这个缓存可以做到浏览器本身上（彻底避免浏览器发请求），也可以做到代理上（如nginx），或者做到server端（用Etag，至少可以减少带宽消耗）</li>
<li>POST：该请求是不幂等的，它会在页面表单上提交数据，请求服务器的响应，往往会对数据进行修改</li>
</ul>
<h2 id="5-解决超卖问题">5. 解决超卖问题</h2>
<ol>
<li>当多个线程同时读取到同一个库存数量时，防止超卖，修改SQL语句</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#f92672">#</span><span style="color:#960050;background-color:#1e0010">添加</span>stock_count <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">的条件</span>
<span style="color:#66d9ef">update</span> miaosha_goods <span style="color:#66d9ef">set</span> stock_count <span style="color:#f92672">=</span> stock_count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">where</span> goods_id <span style="color:#f92672">=</span> <span style="color:#f92672">#</span><span style="color:#960050;background-color:#1e0010">{</span>goodsId<span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#66d9ef">and</span> stock_count <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">12</span>
</code></pre></div><ol>
<li>防止同一个用户秒杀多个，添加唯一索引，绑定user_id和goods_id，这样同一个用户对同一个商品的秒杀订单是唯一的</li>
</ol>
<p><img src="D:%5CBlog%5Csource_posts%5CJava%E9%AB%98%E6%80%A7%E8%83%BD%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%5C20200715211412343.png" alt="在这里插入图片描述"></p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://kayleh.top">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://kayleh.top/js/github-style.js"></script>



</html>