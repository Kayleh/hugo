<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Kayleh">
  
  
  
  <link rel="prev" href="https://kayleh.top/%E5%B9%B6%E5%8F%91%E5%8E%9F%E7%90%86/" />
  <link rel="next" href="https://kayleh.top/unix/" />
  <link rel="canonical" href="https://kayleh.top/springmvc%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           SpringMVC环境搭建 | Kayleh
       
  </title>
  <meta name="title" content="SpringMVC环境搭建 | Kayleh">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/kayleh.top"
    },
    "articleSection" : "posts",
    "name" : "SpringMVC环境搭建",
    "headline" : "SpringMVC环境搭建",
    "description" : "\u003ch2 id=\u0022springmvc\u0022\u003eSpringMVC\u003c\/h2\u003e",
    "inLanguage" : "en-us",
    "author" : "Kayleh",
    "creator" : "Kayleh",
    "publisher": "Kayleh",
    "accountablePerson" : "Kayleh",
    "copyrightHolder" : "Kayleh",
    "copyrightYear" : "2019",
    "datePublished": "2019-07-14 13:30:23 \u002b0800 CST",
    "dateModified" : "2019-07-14 13:30:23 \u002b0800 CST",
    "url" : "https:\/\/kayleh.top\/springmvc%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\/",
    "wordCount" : "191",
    "keywords" : [ "frame", "Kayleh"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/" title="">Home</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/" title="">Home</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">SpringMVC环境搭建</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://kayleh.top" rel="author">Kayleh</a> with ♥ 
                <span class="post-time">
                on <time datetime=2019-07-14 itemprop="datePublished">July 14, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://kayleh.top/categories/springmvc/"> SpringMVC </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <h2 id="springmvc">SpringMVC</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Spring MVC是Spring Framework的一部分，是基于Java实现MVC的轻量级Web框架，实现MVC模块，简化了Web开发。

MVC提倡每一层只写自己的东西，不写其他任何代码。为了解耦，为了维护方便和分工合作。

SpringMVC为展现层提供的基于MVC设计理念的优秀Web框架，是目前最主流的框架之一。
</code></pre></div><!-- raw HTML omitted -->
<h2 id="环境搭建">环境搭建</h2>
<h3 id="1导包maven工程忽略">1.导包(Maven工程忽略)</h3>
<p>需要导入log包，spring核心包，SpringMVC包</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">1.junit-x.x.x.jar 
2.spring-webmvc-x.x.x.RELEASE.jar
3.spring-aop-x.x.x.RELEASE.jar
4.spring-beans-x.x.x.RELEASE.jar
5.spring-context-x.x.x.RELEASE.jar
6.spring-core-x.x.x.RELEASE.jar
7.spring-expression-x.x.x.RELEASE.jar
8.spring-web-x.x.x.RELEASE.jar
9.commons-log-.x.x.x.RELEASE.jar
</code></pre></div><h3 id="写配置">写配置</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
/**
 * web.xml
 */
&lt;servlet&gt;
    &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
     &lt;init-param&gt;
      &lt;!-- contextConfigLocation：指定SpringMVC配置文件位置 --&gt;
       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
      &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
     &lt;/init-param&gt;  
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
 &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  <span style="color:#f92672">===========================================================</span>
 /**
 * springmvc.xml
 */
 &lt;?xml version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0&#34;</span> encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>?&gt;
&lt;beans xmlns<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans&#34;</span>
  xmlns:xsi<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
  xmlns:context<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/context&#34;</span>
  xsi:schemaLocation<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
</span><span style="color:#e6db74">    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&#34;</span>&gt;

  &lt;!-- 这里是扫描所有组件 --&gt;
  &lt;context:component-scan base-package<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;com.wizard&#34;</span>&gt;&lt;/context:component-scan&gt;
  
  &lt;!-- 配置一个视图解析器 作用是拼接页面的地址，方便调用--&gt;
  &lt;bean class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span>&gt;
    &lt;!--前缀--&gt;
    &lt;property name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prefix&#34;</span> value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/WEB-INF/page/&#34;</span>&gt;&lt;/property&gt;
    &lt;!--后缀--&gt;
    &lt;property name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;suffix&#34;</span> value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.jsp&#34;</span>&gt;&lt;/property&gt;
  &lt;/bean&gt;
  
&lt;/beans&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
/*
*view层
*/
&lt;%@ page language<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;java&#34;</span> contentType<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/html; charset=UTF-8&#34;</span>
    pageEncoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>%&gt;
&lt;!DOCTYPE html PUBLIC <span style="color:#e6db74">&#34;-//W3C//DTD HTML 4.01 Transitional//EN&#34;</span> <span style="color:#e6db74">&#34;http://www.w3.org/TR/html4/loose.dtd&#34;</span>&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Content-Type&#34;</span> content<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/html; charset=UTF-8&#34;</span>&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;来了!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
控制器层
/**
 * @author Kayleh
 * @Controller:标识哪个组件是控制器
 *@RequestMapping
 *  告诉SpringMVC，这个方法用来处理什么请求;
 */

@Controller
public class firstController <span style="color:#f92672">{</span>//这是一次转发操作
  @RequestMapping<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
  public String firstRequest<span style="color:#f92672">(){</span>
    System.out.println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;收到请求&#34;</span><span style="color:#f92672">)</span>;
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span>;
  <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">index.jsp
&lt;%@ page language<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;java&#34;</span> contentType<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/html; charset=UTF-8&#34;</span>
    pageEncoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>%&gt;
&lt;!DOCTYPE html PUBLIC <span style="color:#e6db74">&#34;-//W3C//DTD HTML 4.01 Transitional//EN&#34;</span> <span style="color:#e6db74">&#34;http://www.w3.org/TR/html4/loose.dtd&#34;</span>&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Content-Type&#34;</span> content<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/html; charset=UTF-8&#34;</span>&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;a href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hello&#34;</span>&gt;Hello bug&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><h2 id="运行结果">运行结果</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Hello bug
</code></pre></div><h2 id="其他细节">其他细节</h2>
<p>细节：
@RequestMapping注解不仅可以写在方法前,还可以写在类前,如果写在类前,意思为当前类所有的方法的请求地址指定一个基准路径,访问firstRequest方法的路径为/类前的注解/方法的注解(/hello).</p>
<p>@RequestMapping注解的参数(&quot;/hello&quot;)的/可以不写,但习惯为了方便维护应该写上.</p>
<p>控制器处理的请求 firstController 是请求转发操作,Tomcat访问地址栏不变</p>
<p>如果前端控制器没有指定配置文件位置,Spring也会在/WEB-INF/xxx-servlet.xml路径下查找文件.xxx为web.xml配置的前端控制器</p>
<h2 id="详细流程">详细流程</h2>
<p>1.客户端点击链接会发送http://localhost:8080/springmvc/hello请求</p>
<p>2.来到Tomcat服务器</p>
<p>3.springMVC的前端控制器收到所有请求</p>
<p>4.看请求地址和@RequestMapping标注的哪个匹配,来找到使用什么类的什么方法</p>
<p>5.前端控制器找到了目标处理器类和目标方法,直接利用反射执行目标方法</p>
<p>6.方法执行完成之后会有一个返回值;SpringMVC认为这个返回值就是要去的页面</p>
<p>7.拿到方法返回值后,用视图解析器进行拼串得到完整的页面地址</p>
<p>8.拿到页面地址,前端控制器转发到页面</p>
<h3 id="其他问题">其他问题?</h3>
<p>1为什么web.xml中配置的拦截为</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
</code></pre></div><p>为什么没有拦截index.jsp??</p>
<p>因为Tomcat的底层本来就能拦截jsp页面,配置的&quot;/&ldquo;的子类web.xml相当于覆盖了Webapp的父类web.xml中的DefaultServlet,DefaultServlet的作用是处理静态资源,覆盖了DefaultServlet,也就拦截了除jsp和servlet外的静态资源,而JspServlet的配置并没有覆盖.</p>
<h2 id="而的作用是拦截所有请求包括jsp页面">而&rdquo;/*&ldquo;的作用是拦截所有请求,包括jsp页面.</h2>
    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Kayleh </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://kayleh.top/springmvc%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/>https://kayleh.top/springmvc%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://kayleh.top/tags/frame/">
                    #frame</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://kayleh.top">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://kayleh.top/%E5%B9%B6%E5%8F%91%E5%8E%9F%E7%90%86/" class="prev" rel="prev" title="concurrency-principle"><i class="iconfont icon-left"></i>&nbsp;concurrency-principle</a>
         
        
        <a href="https://kayleh.top/unix/" class="next" rel="next" title="unix的常用指令">unix的常用指令&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <script async="" src="https://widget.daovoice.io/widget/38b1c911.js" charset="utf-8"></script>
    <script data-ad-client="ca-pub-7457165067653912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"style="display:inline-block;width:728px;height:90px"data-ad-client="ca-pub-7457165067653912"data-ad-slot="9837525717"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    <script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?2cd1dc193190f18fed292accb735c684";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script>
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://kayleh.top">Kayleh</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
