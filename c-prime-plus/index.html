<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://kayleh.top/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://kayleh.top/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github-style.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/light.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/dark.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/syntax.css' />
    <title>C pointer - Kayleh</title>
    
    <link rel="icon" type="image/x-icon" href='https://kayleh.top/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="指针" />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://kayleh.top/c-prime-plus/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="C pointer - Kayleh" />
<meta name="twitter:description"
  content="指针" />
<meta name="twitter:site" content="https://kayleh.top" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://kayleh.top">


<meta property="og:type" content="article" />
<meta property="og:title" content="C pointer - Kayleh">
<meta property="og:description"
  content="指针" />
<meta property="og:url" content="https://kayleh.top/c-prime-plus/" />
<meta property="og:site_name" content="C pointer" />
<meta property="og:image"
  content="https://kayleh.top">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2020-06-28 17:33:01 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://kayleh.top">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://kayleh.top">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://kayleh.top">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://kayleh.top">
                  <img class=" avatar-user"
                    src="http://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://kayleh.top">Kayleh</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://kayleh.top/c-prime-plus/">C pointer</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sun, 28 Jun 2020 17:33:01 &#43;0800"
                    class="no-wrap">
                    Sun, 28 Jun 2020 17:33:01 &#43;0800</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div class="file-header d-flex flex-md-items-center flex-items-start">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    5157 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/c">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      C
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5">
                <article class="markdown-body entry-content container-lg"><h2 id="指针">指针</h2>
<h6 id="每一个变量都有一个内存位置每一个内存位置都定义了可使用连字号运算符访问的地址它表示了在内存中的一个地址">每一个变量都有一个内存位置，每一个内存位置都定义了可使用连字号（&amp;）运算符访问的地址，它表示了在内存中的一个地址。</h6>
<p>取地址&amp;</p>
<p>取值*</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> a;
    <span style="color:#66d9ef">char</span> b[<span style="color:#ae81ff">10</span>];
    printf(<span style="color:#e6db74">&#34;a变量的内存地址：%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">&amp;</span>a);
    printf(<span style="color:#e6db74">&#34;b变量的内存地址：%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">&amp;</span>b);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>访问数组b的地址其实就是数组第一个变量的数组</p>
<p><strong>指针</strong>是一个变量，其值为另一个变量的地址，即，内存位置的直接地址。就像其他变量或常量一样，您必须在使用指针存储其他变量地址之前，对其进行声明。指针变量声明的一般形式为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">type <span style="color:#f92672">*</span>var<span style="color:#f92672">-</span>name;
</code></pre></div><p>在这里，<strong>type</strong> 是指针的基类型，它必须是一个有效的 C 数据类型，<strong>var-name</strong> 是指针变量的名称。用来声明指针的星号 * 与乘法中使用的星号是相同的。但是，在这个语句中，星号是用来指定一个变量是指针。以下是有效的指针声明：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span>    <span style="color:#f92672">*</span>ip;    <span style="color:#75715e">/* 一个整型的指针 */</span>
<span style="color:#66d9ef">double</span> <span style="color:#f92672">*</span>dp;    <span style="color:#75715e">/* 一个 double 型的指针 */</span>
<span style="color:#66d9ef">float</span>  <span style="color:#f92672">*</span>fp;    <span style="color:#75715e">/* 一个浮点型的指针 */</span>
<span style="color:#66d9ef">char</span>   <span style="color:#f92672">*</span>ch;     <span style="color:#75715e">/* 一个字符型的指针 */</span>
</code></pre></div><p>所有实际数据类型，不管是整型、浮点型、字符型，还是其他的数据类型，对应指针的值的类型都是一样的，都是一个代表内存地址的长的十六进制数。</p>
<h4 id="指针的使用">指针的使用</h4>
<p>使用指针时会频繁进行以下几个操作：定义一个指针变量、把变量地址赋值给指针、访问指针变量中可用地址的值。这些是通过使用一元运算符 ***** 来返回位于操作数所指定地址的变量的值。下面的实例涉及到了这些操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  var <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;   <span style="color:#75715e">/* 实际变量的声明 */</span>
   <span style="color:#66d9ef">int</span>  <span style="color:#f92672">*</span>ip;        <span style="color:#75715e">/* 指针变量的声明 */</span>
 
   ip <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>var;  <span style="color:#75715e">/* 在指针变量中存储 var 的地址 */</span>
 
   printf(<span style="color:#e6db74">&#34;Address of var variable: %p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">&amp;</span>var  );
 
   <span style="color:#75715e">/* 在指针变量中存储的地址 */</span>
   printf(<span style="color:#e6db74">&#34;Address stored in ip variable: %p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ip );
 
   <span style="color:#75715e">/* 使用指针访问值 */</span>
   printf(<span style="color:#e6db74">&#34;Value of *ip variable: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>ip ); <span style="color:#75715e">//20
</span><span style="color:#75715e"></span> 
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h4 id="c-中的-null-指针">C 中的 NULL 指针</h4>
<p>在变量声明的时候，如果没有确切的地址可以赋值，为指针变量赋一个 NULL 值是一个良好的编程习惯。赋为 NULL 值的指针被称为<strong>空</strong>指针。</p>
<p>NULL 指针是一个定义在标准库中的值为零的常量。请看下面的程序：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  <span style="color:#f92672">*</span>ptr <span style="color:#f92672">=</span> NULL;
 
   printf(<span style="color:#e6db74">&#34;ptr 的地址是 %p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ptr  );
 
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>在大多数的操作系统上，程序不允许访问地址为 0 的内存，因为该内存是操作系统保留的。然而，内存地址 0 有特别重要的意义，它表明该指针不指向一个可访问的内存位置。但按照惯例，如果指针包含空值（零值），则假定它不指向任何东西。</p>
<p>如需检查一个空指针，您可以使用 if 语句，如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">if</span>(ptr)     <span style="color:#75715e">/* 如果 p 非空，则完成 */</span>
<span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>ptr)    <span style="color:#75715e">/* 如果 p 为空，则完成 */</span>
</code></pre></div><h4 id="指针的算数运算">指针的算数运算</h4>
<p>C 指针是一个用数值表示的地址。因此，您可以对指针执行算术运算。可以对指针进行四种算术运算：++、&ndash;、+、-。</p>
<p>假设 <strong>ptr</strong> 是一个指向地址 1000 的整型指针，是一个 32 位的整数，让我们对该指针执行下列的算术运算：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">ptr<span style="color:#f92672">++</span>
</code></pre></div><p>在执行完上述的运算之后，<strong>ptr</strong> 将指向位置 1004，因为 ptr 每增加一次，它都将指向下一个整数位置，即当前位置往后移 4 字节。这个运算会在不影响内存位置中实际值的情况下，移动指针到下一个内存位置。如果 <strong>ptr</strong> 指向一个地址为 1000 的字符，上面的运算会导致指针指向位置 1001，因为下一个字符位置是在 1001。</p>
<p>我们概括一下：</p>
<ul>
<li>指针的每一次递增，它其实会指向下一个元素的存储单元。</li>
<li>指针的每一次递减，它都会指向前一个元素的存储单元。</li>
<li><strong>指针在递增和递减时跳跃的字节数取决于指针所指向变量数据类型长度</strong>，比如 int 就是 4 个字节。</li>
</ul>
<h5 id="递增一个指针">递增一个指针</h5>
<p>我们喜欢在程序中使用指针代替数组，因为变量指针可以递增，而数组不能递增，数组可以看成一个指针常量。下面的程序递增变量指针，以便顺序访问数组中的每一个元素：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  var[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>};
   <span style="color:#66d9ef">int</span>  i, <span style="color:#f92672">*</span>ptr;
 
   <span style="color:#75715e">/* 指针中的数组地址 */</span>
   ptr <span style="color:#f92672">=</span> var;
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX; i<span style="color:#f92672">++</span>)
   {
 
      printf(<span style="color:#e6db74">&#34;存储地址：var[%d] = %x</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, ptr );
      printf(<span style="color:#e6db74">&#34;存储值：var[%d] = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, <span style="color:#f92672">*</span>ptr );
 
      <span style="color:#75715e">/* 移动到下一个位置 */</span>
      ptr<span style="color:#f92672">++</span>;
   }
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">----</span>
<span style="color:#960050;background-color:#1e0010">存储地址：</span>var[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> bf882b30
<span style="color:#960050;background-color:#1e0010">存储值：</span>var[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
<span style="color:#960050;background-color:#1e0010">存储地址：</span>of var[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> bf882b34
<span style="color:#960050;background-color:#1e0010">存储值：</span> var[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
<span style="color:#960050;background-color:#1e0010">存储地址：</span>of var[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> bf882b38
<span style="color:#960050;background-color:#1e0010">存储值：</span>var[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>
</code></pre></div><h5 id="指针的比较">指针的比较</h5>
<p>指针可以用关系运算符进行比较，如 ==、&lt; 和 &gt;。如果 p1 和 p2 指向两个相关的变量，比如同一个数组中的不同元素，则可对 p1 和 p2 进行大小比较。</p>
<p>下面的程序修改了上面的实例，只要变量指针所指向的地址小于或等于数组的最后一个元素的地址 &amp;var[MAX - 1]，则把变量指针进行递增：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  var[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>};
   <span style="color:#66d9ef">int</span>  i, <span style="color:#f92672">*</span>ptr;
 
   <span style="color:#75715e">/* 指针中第一个元素的地址 */</span>
   ptr <span style="color:#f92672">=</span> var;
   i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
   <span style="color:#66d9ef">while</span> ( ptr <span style="color:#f92672">&lt;=</span> <span style="color:#f92672">&amp;</span>var[MAX <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] )
   {
 
      printf(<span style="color:#e6db74">&#34;Address of var[%d] = %p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, ptr );
      printf(<span style="color:#e6db74">&#34;Value of var[%d] = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, <span style="color:#f92672">*</span>ptr );
 
      <span style="color:#75715e">/* 指向上一个位置 */</span>
      ptr<span style="color:#f92672">++</span>;
      i<span style="color:#f92672">++</span>;
   }
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">----------------</span>
Address of var[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> bfdbcb20
Value of var[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
Address of var[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> bfdbcb24
Value of var[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
Address of var[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> bfdbcb28
Value of var[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>
</code></pre></div><h4 id="指针数组">指针数组</h4>
<p>一个指向整数的指针数组的声明：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>ptr[MAX];
</code></pre></div><p>在这里，把 <strong>ptr</strong> 声明为一个数组，由 MAX 个整数指针组成。因此，ptr 中的每个元素，都是一个指向 int 值的指针。下面的实例用到了三个整数，它们将存储在一个指针数组中，如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  var[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>};
   <span style="color:#66d9ef">int</span> i, <span style="color:#f92672">*</span>ptr[MAX];
 
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX; i<span style="color:#f92672">++</span>)
   {
      ptr[i] <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>var[i]; <span style="color:#75715e">/* 赋值为整数的地址 */</span>
   }
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX; i<span style="color:#f92672">++</span>)
   {
      printf(<span style="color:#e6db74">&#34;Value of var[%d] = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, <span style="color:#f92672">*</span>ptr[i] );
   }
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">------</span>
Value of var[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
Value of var[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
Value of var[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>
</code></pre></div><p>您也可以用一个指向字符的指针数组来存储一个字符串列表，如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>names[] <span style="color:#f92672">=</span> {
                   <span style="color:#e6db74">&#34;Zara Ali&#34;</span>,
                   <span style="color:#e6db74">&#34;Hina Ali&#34;</span>,
                   <span style="color:#e6db74">&#34;Nuha Ali&#34;</span>,
                   <span style="color:#e6db74">&#34;Sara Ali&#34;</span>,
   };
   <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
 
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX; i<span style="color:#f92672">++</span>)
   {
      printf(<span style="color:#e6db74">&#34;Value of names[%d] = %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, names[i] );
   }
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">------</span>
Value of names[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> Zara Ali
Value of names[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> Hina Ali
Value of names[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> Nuha Ali
Value of names[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> Sara Ali
</code></pre></div><h4 id="指向指针的指针">指向指针的指针</h4>
<p>指向指针的指针是一种多级间接寻址的形式，或者说是一个指针链。通常，一个指针包含一个变量的地址。当我们定义一个指向指针的指针时，第一个指针包含了第二个指针的地址，第二个指针指向包含实际值的位置。</p>
<pre><code>              Pointer               Pointer 				Variable
           _____________          _____________           _____________
          |  Address    | ------&gt;|  Address    |--------&gt;|    Value    |
          |_____________|        |_____________|         |_____________|
</code></pre><p>一个指向指针的指针变量必须如下声明，即在变量名前放置两个星号。例如，下面声明了一个指向 int 类型指针的指针：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#f92672">**</span>var;
</code></pre></div><p>当一个目标值被一个指针间接指向到另一个指针时，访问这个值需要使用两个星号运算符，如下面实例所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">int</span>  var;
   <span style="color:#66d9ef">int</span>  <span style="color:#f92672">*</span>ptr;
   <span style="color:#66d9ef">int</span>  <span style="color:#f92672">**</span>pptr;

   var <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>;

   <span style="color:#75715e">/* 获取 var 的地址 */</span>
   ptr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>var;

   <span style="color:#75715e">/* 使用运算符 &amp; 获取 ptr 的地址 */</span>
   pptr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>ptr;

   <span style="color:#75715e">/* 使用 pptr 获取值 */</span>
   printf(<span style="color:#e6db74">&#34;Value of var = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, var );
   printf(<span style="color:#e6db74">&#34;Value available at *ptr = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>ptr );
   printf(<span style="color:#e6db74">&#34;Value available at **pptr = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">**</span>pptr);

   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">-------------------</span>
Value of var <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>
Value available at <span style="color:#f92672">*</span>ptr <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>
Value available at <span style="color:#f92672">**</span>pptr <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>
</code></pre></div><h4 id="指针数组和数组指针">指针数组和数组指针</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p1[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">----------</span><span style="color:#960050;background-color:#1e0010">指针数组</span>
<span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>p2)[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">---------</span><span style="color:#960050;background-color:#1e0010">数组指针</span>
</code></pre></div><p><strong>指针数组</strong>是一个数组，每个数组元素存放一个指针变量。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#75715e">//指针数组，里面存的是指针
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p1[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;wo&#34;</span>,
                   <span style="color:#e6db74">&#34;jiao&#34;</span>,
                   <span style="color:#e6db74">&#34;Kayleh&#34;</span>,
                   <span style="color:#e6db74">&#34;!&#34;</span>};
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
    {
        <span style="color:#75715e">/* code */</span>
        <span style="color:#75715e">// %s会取地址对应的值，char形是特列,通过字符串首地址输出字符串
</span><span style="color:#75715e"></span>        printf(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, p1[i]);
    }
}
</code></pre></div><p><strong>数组指针</strong>是一个指针，它指向的是一个数组</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> temp[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
    <span style="color:#75715e">//&amp;temp表示取出整个数组的地址
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//temp表示数组的第一个元素的地址
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span>(<span style="color:#f92672">*</span>p2)[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>temp;
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
    {
        <span style="color:#75715e">/* code */</span>
        <span style="color:#75715e">//内部的*取得是数组的，外部的取得是数组元素的
</span><span style="color:#75715e"></span>        printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>p2 <span style="color:#f92672">+</span> i));
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h4 id="二维数组">二维数组</h4>
<p>数组名实际上是第一组一维数组的指针。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">array[<span style="color:#ae81ff">4</span>][<span style="color:#ae81ff">5</span>]
<span style="color:#f92672">*</span>(array<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">=</span> array[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>array[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]

<span style="color:#f92672">*</span>(array<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span> <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>array[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">3</span>]
</code></pre></div><p>结论</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#f92672">*</span>(array<span style="color:#f92672">+</span>i) <span style="color:#f92672">==</span> array[i]
<span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>(array<span style="color:#f92672">+</span>i)<span style="color:#f92672">+</span>j) <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>array[i][j]
<span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>(array<span style="color:#f92672">+</span>i)<span style="color:#f92672">+</span>j)<span style="color:#f92672">+</span>k) <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>array[i][j][k]
</code></pre></div><p>初始化二维数组</p>
<pre><code>int array[][3];//前面的可不写
</code></pre><p><strong>数组指针和二维数组</strong></p>
<h4 id="void指针">void指针</h4>
<blockquote>
<p>void指针称为通用指针，就是可以指向任意类型的数据。也就是说，任何类型的指针都可以赋值给void指针</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">1024</span>;
    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>pi <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>num;
    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Kayleh&#34;</span>;
    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>pv;

    pv <span style="color:#f92672">=</span> pi;
    printf(<span style="color:#e6db74">&#34;pi:%p,pv:%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, pi, pv);
    printf(<span style="color:#e6db74">&#34;pv:%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)pv); <span style="color:#75715e">//强制转换
</span><span style="color:#75715e"></span>
    pv <span style="color:#f92672">=</span> pc;
    printf(<span style="color:#e6db74">&#34;pc:%p,pv:%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, pc, pv);
    <span style="color:#75715e">//因为字符数组中每一个元素都相当于一个指针变量，就不需要在加*了，不用解引用
</span><span style="color:#75715e"></span>    printf(<span style="color:#e6db74">&#34;pv:%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, pv);

    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h4 id="null指针">NULL指针</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#define NULL ((void *)0)
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p1;
    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p2 <span style="color:#f92672">=</span> NULL;

    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>p1);
    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#f92672">*</span>p2);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h2 id="函数">函数</h2>
<p>定义</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">return_type <span style="color:#a6e22e">function_name</span>( parameter list )
{
   body of the function
}
</code></pre></div><ul>
<li>**返回类型：**一个函数可以返回一个值。<strong>return_type</strong> 是函数返回的值的数据类型。有些函数执行所需的操作而不返回值，在这种情况下，return_type 是关键字 <strong>void</strong>。</li>
<li>**函数名称：**这是函数的实际名称。函数名和参数列表一起构成了函数签名。</li>
<li>**参数：**参数就像是占位符。当函数被调用时，您向参数传递一个值，这个值被称为实际参数。参数列表包括函数参数的类型、顺序、数量。参数是可选的，也就是说，函数可能不包含参数。</li>
<li>**函数主体：**函数主体包含一组定义函数执行任务的语句。</li>
</ul>
<h2 id="函数指针">函数指针</h2>
<p>函数指针是指向函数的指针变量。</p>
<p>通常我们说的指针变量是指向一个整型、字符型或数组等变量，而函数指针是指向函数。</p>
<p>函数指针可以像一般函数一样，用于调用函数、传递参数。</p>
<p>函数指针变量的声明：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">typedef</span> <span style="color:#a6e22e">int</span> (<span style="color:#f92672">*</span>fun_ptr)(<span style="color:#66d9ef">int</span>,<span style="color:#66d9ef">int</span>); <span style="color:#75715e">// 声明一个指向同样参数、返回值的函数指针类型
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
{
    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">&gt;</span> y <span style="color:#f92672">?</span> x : y;
}
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
{
    <span style="color:#75715e">/* p 是函数指针 */</span>
    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span> p)(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>) <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span> max; <span style="color:#75715e">// &amp;可以省略
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> a, b, c, d;
 
    printf(<span style="color:#e6db74">&#34;请输入三个数字:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span> a, <span style="color:#f92672">&amp;</span> b, <span style="color:#f92672">&amp;</span> c);
 
    <span style="color:#75715e">/* 与直接调用函数等价，d = max(max(a, b), c) */</span>
    d <span style="color:#f92672">=</span> p(p(a, b), c); 
 
    printf(<span style="color:#e6db74">&#34;最大的数字是: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, d);
 
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">------------------</span>
<span style="color:#960050;background-color:#1e0010">请输入三个数字</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>
<span style="color:#960050;background-color:#1e0010">最大的数字是</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>
</code></pre></div><h3 id="回调函数">回调函数</h3>
<h4 id="函数指针作为某个函数的参数">函数指针作为某个函数的参数</h4>
<p>函数指针变量可以作为某个函数的参数来使用的，回调函数就是一个通过函数指针调用的函数。</p>
<p>简单讲：回调函数是由别人的函数执行时调用你实现的函数。</p>
<blockquote>
<p>以下是来自知乎作者常溪玲的解说：</p>
<p>你到一个商店买东西，刚好你要的东西没有货，于是你在店员那里留下了你的电话，过了几天店里有货了，店员就打了你的电话，然后你接到电话后就到店里去取了货。在这个例子里，你的电话号码就叫回调函数，你把电话留给店员就叫登记回调函数，店里后来有货了叫做触发了回调关联的事件，店员给你打电话叫做调用回调函数，你到店里去取货叫做响应回调事件。</p>
</blockquote>
<h4 id="实例">实例</h4>
<p>实例中 populate_array 函数定义了三个参数，其中第三个参数是函数的指针，通过该函数来设置数组的值。</p>
<p>实例中我们定义了回调函数 getNextRandomValue，它返回一个随机值，它作为一个函数指针传递给 populate_array 函数。</p>
<p>populate_array 将调用 10 次回调函数，并将回调函数的返回值赋值给数组。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#75715e">// 回调函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">populate_array</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>array, size_t arraySize, <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>getNextValue)(<span style="color:#66d9ef">void</span>))
{
    <span style="color:#66d9ef">for</span> (size_t i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span>arraySize; i<span style="color:#f92672">++</span>)
        array[i] <span style="color:#f92672">=</span> getNextValue();
}
 
<span style="color:#75715e">// 获取随机值
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getNextRandomValue</span>(<span style="color:#66d9ef">void</span>)
{
    <span style="color:#66d9ef">return</span> rand();
}
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
{
    <span style="color:#66d9ef">int</span> myarray[<span style="color:#ae81ff">10</span>];
    populate_array(myarray, <span style="color:#ae81ff">10</span>, getNextRandomValue);
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
        printf(<span style="color:#e6db74">&#34;%d &#34;</span>, myarray[i]);
    }
    printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">--------------------</span>
<span style="color:#ae81ff">16807</span> <span style="color:#ae81ff">282475249</span> <span style="color:#ae81ff">1622650073</span> <span style="color:#ae81ff">984943658</span> <span style="color:#ae81ff">1144108930</span> <span style="color:#ae81ff">470211272</span> <span style="color:#ae81ff">101027544</span> <span style="color:#ae81ff">1457850878</span> <span style="color:#ae81ff">1458777923</span> <span style="color:#ae81ff">2007237709</span> 
</code></pre></div><h3 id="c-传递指针给函数">C 传递指针给函数</h3>
<p>C 语言允许您传递指针给函数，只需要简单地声明函数参数为指针类型即可。</p>
<p>下面的实例中，我们传递一个无符号的 long 型指针给函数，并在函数内改变这个值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getSeconds</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#f92672">*</span>par);

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> sec;


   getSeconds( <span style="color:#f92672">&amp;</span>sec );

   <span style="color:#75715e">/* 输出实际值 */</span>
   printf(<span style="color:#e6db74">&#34;Number of seconds: %ld</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, sec );

   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getSeconds</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#f92672">*</span>par)
{
   <span style="color:#75715e">/* 获取当前的秒数 */</span>
   <span style="color:#f92672">*</span>par <span style="color:#f92672">=</span> time( NULL );
   <span style="color:#66d9ef">return</span>;
}
<span style="color:#f92672">------------------</span>
Number of seconds :<span style="color:#ae81ff">1294450468</span>
</code></pre></div><p>能接受指针作为参数的函数，也能接受数组作为参数，如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#75715e">/* 函数声明 */</span>
<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getAverage</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size);
 
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#75715e">/* 带有 5 个元素的整型数组  */</span>
   <span style="color:#66d9ef">int</span> balance[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">50</span>};
   <span style="color:#66d9ef">double</span> avg;
 
   <span style="color:#75715e">/* 传递一个指向数组的指针作为参数 */</span>
   avg <span style="color:#f92672">=</span> getAverage( balance, <span style="color:#ae81ff">5</span> ) ;
 
   <span style="color:#75715e">/* 输出返回值  */</span>
   printf(<span style="color:#e6db74">&#34;Average value is: %f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, avg );
   
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getAverage</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size)
{
  <span style="color:#66d9ef">int</span>    i, sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;      
  <span style="color:#66d9ef">double</span> avg;          
 
  <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size; <span style="color:#f92672">++</span>i)
  {
    sum <span style="color:#f92672">+=</span> arr[i];
  }
 
  avg <span style="color:#f92672">=</span> (<span style="color:#66d9ef">double</span>)sum <span style="color:#f92672">/</span> size;
 
  <span style="color:#66d9ef">return</span> avg;
}
<span style="color:#f92672">------------------</span>
Average value is: <span style="color:#ae81ff">214.40000</span>
</code></pre></div><h3 id="c-从函数返回指针">C 从函数返回指针</h3>
<p>C 允许您从函数返回指针。为了做到这点，您必须声明一个返回指针的函数，如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">myFunction</span>()
{
.
.
.
}
</code></pre></div><p>C 语言不支持在调用函数时返回局部变量的地址，除非定义局部变量为 <strong>static</strong> 变量。</p>
<p>现在，让我们来看下面的函数，它会生成 10 个随机数，并使用表示指针的数组名（即第一个数组元素的地址）来返回它们，具体如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt; </span><span style="color:#75715e">
</span><span style="color:#75715e"></span> 
<span style="color:#75715e">/* 要生成和返回随机数的函数 */</span>
<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">getRandom</span>( )
{
   <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span>  r[<span style="color:#ae81ff">10</span>];
   <span style="color:#66d9ef">int</span> i;
 
   <span style="color:#75715e">/* 设置种子 */</span>
   srand( (<span style="color:#66d9ef">unsigned</span>)time( NULL ) );
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#f92672">++</span>i)
   {
      r[i] <span style="color:#f92672">=</span> rand();
      printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, r[i] );
   }
 
   <span style="color:#66d9ef">return</span> r;
}
 
<span style="color:#75715e">/* 要调用上面定义函数的主函数 */</span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
{
   <span style="color:#75715e">/* 一个指向整数的指针 */</span>
   <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p;
   <span style="color:#66d9ef">int</span> i;
 
   p <span style="color:#f92672">=</span> getRandom();
   <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span> )
   {
       printf(<span style="color:#e6db74">&#34;*(p + [%d]) : %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, <span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> i) );
   }
 
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">-----------------------</span>
<span style="color:#ae81ff">1523198053</span>
<span style="color:#ae81ff">1187214107</span>
<span style="color:#ae81ff">1108300978</span>
<span style="color:#ae81ff">430494959</span>
<span style="color:#ae81ff">1421301276</span>
<span style="color:#ae81ff">930971084</span>
<span style="color:#ae81ff">123250484</span>
<span style="color:#ae81ff">106932140</span>
<span style="color:#ae81ff">1604461820</span>
<span style="color:#ae81ff">149169022</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">1523198053</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">1</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">1187214107</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">2</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">1108300978</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">3</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">430494959</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">4</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">1421301276</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">5</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">930971084</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">6</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">123250484</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">7</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">106932140</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">8</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">1604461820</span>
<span style="color:#f92672">*</span>(p <span style="color:#f92672">+</span> [<span style="color:#ae81ff">9</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">149169022</span>
</code></pre></div><p>字符串</p>
<p>C 中有大量操作字符串的函数：</p>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>strcpy(s1, s2);</strong></td>
<td style="text-align:left">复制字符串 s2 到字符串 s1。</td>
</tr>
<tr>
<td style="text-align:left"><strong>strcat(s1, s2);</strong></td>
<td style="text-align:left">连接字符串 s2 到字符串 s1 的末尾。</td>
</tr>
<tr>
<td style="text-align:left"><strong>strlen(s1);</strong></td>
<td style="text-align:left">返回字符串 s1 的长度。</td>
</tr>
<tr>
<td style="text-align:left"><strong>strcmp(s1, s2);</strong></td>
<td style="text-align:left">如果 s1 和 s2 是相同的，则返回 0；如果 s1&lt;s2 则返回小于 0；如果 s1&gt;s2 则返回大于 0。</td>
</tr>
<tr>
<td style="text-align:left"><strong>strchr(s1, ch);</strong></td>
<td style="text-align:left">返回一个指针，指向字符串 s1 中字符 ch 的第一次出现的位置。</td>
</tr>
<tr>
<td style="text-align:left"><strong>strstr(s1, s2);</strong></td>
<td style="text-align:left">返回一个指针，指向字符串 s1 中字符串 s2 的第一次出现的位置。</td>
</tr>
</tbody>
</table>
<h2 id="c-结构体">C 结构体</h2>
<p>C 数组允许定义可存储相同类型数据项的变量，<strong>结构</strong>是 C 编程中另一种用户自定义的可用的数据类型，它允许您存储不同类型的数据项。</p>
<p>结构用于表示一条记录，假设您想要跟踪图书馆中书本的动态，您可能需要跟踪每本书的下列属性：</p>
<ul>
<li>Title</li>
<li>Author</li>
<li>Subject</li>
<li>Book ID</li>
</ul>
<h4 id="定义结构">定义结构</h4>
<p>为了定义结构，您必须使用 <strong>struct</strong> 语句。struct 语句定义了一个包含多个成员的新的数据类型，struct 语句的格式如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">struct</span> tag { 
    member<span style="color:#f92672">-</span>list
    member<span style="color:#f92672">-</span>list 
    member<span style="color:#f92672">-</span>list  
    ...
} variable<span style="color:#f92672">-</span>list ;
</code></pre></div><p><strong>tag</strong> 是结构体标签。</p>
<p><strong>member-list</strong> 是标准的变量定义，比如 int i; 或者 float f，或者其他有效的变量定义。</p>
<p><strong>variable-list</strong> 结构变量，定义在结构的末尾，最后一个分号之前，您可以指定一个或多个结构变量。下面是声明 Book 结构的方式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">struct</span> Books
{
   <span style="color:#66d9ef">char</span>  title[<span style="color:#ae81ff">50</span>];
   <span style="color:#66d9ef">char</span>  author[<span style="color:#ae81ff">50</span>];
   <span style="color:#66d9ef">char</span>  subject[<span style="color:#ae81ff">100</span>];
   <span style="color:#66d9ef">int</span>   book_id;
} book
</code></pre></div><p>在一般情况下，<strong>tag、member-list、variable-list</strong> 这 3 部分至少要出现 2 个。</p>
<p>结构体的成员可以包含其他结构体，也可以包含指向自己结构体类型的指针，而通常这种指针的应用是为了实现一些更高级的数据结构如链表和树等。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">//此结构体的声明包含了其他的结构体
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> COMPLEX
{
    <span style="color:#66d9ef">char</span> string[<span style="color:#ae81ff">100</span>];
    <span style="color:#66d9ef">struct</span> SIMPLE a;
};
 
<span style="color:#75715e">//此结构体的声明包含了指向自己类型的指针
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> NODE
{
    <span style="color:#66d9ef">char</span> string[<span style="color:#ae81ff">100</span>];
    <span style="color:#66d9ef">struct</span> NODE <span style="color:#f92672">*</span>next_node;
};
</code></pre></div></article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://kayleh.top">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://kayleh.top/js/github-style.js"></script>



</html>