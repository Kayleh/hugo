<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Kayleh">
  
  
  
  <link rel="prev" href="https://kayleh.top/use-arrays-to-process-batch-data/" />
  <link rel="next" href="https://kayleh.top/9.users-create-data-types-themselves/" />
  <link rel="canonical" href="https://kayleh.top/realize-modular-programming-with-functions/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           realize modular programming with functions | Kayleh
       
  </title>
  <meta name="title" content="realize modular programming with functions | Kayleh">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/kayleh.top"
    },
    "articleSection" : "posts",
    "name" : "realize modular programming with functions",
    "headline" : "realize modular programming with functions",
    "description" : "用函数实现模块化程序设计  Realize modular programming with functions\n 用函数输出以下结果：\n***************** How do you do! ***************** #include\u0026lt;stdio.h\u0026gt; int main() { void print_star();\/\/函数的声明  void print_message();\/\/函数的声明  print_star(); print_message(); print_star(); return 0; } void print_star() { printf(\u0026#34;*****************\\n\u0026#34;); } void print_message() { printf(\u0026#34;How do you do!\\n\u0026#34;); }  函数声明的作用是把有关函数的信息(函数名,函数类型,函数参数的个数与类型)通知编译系统,以便在编译系统对程序进行编译时,在进行到main函数调用print_star()和print_message()时知道它们是函数而不是变量或其他对象,还对调用函数的正确性进行检查.\n函数间可以互相调用,但不能调用main函数,main函数是被操作系统调用的.\n函数从用户使用的角度看分为:\n 库函数 用户自己定义的函数  从函数形式分为:\n 无参函数 有参函数   怎么定义函数 定义函数应包括哪些内容:\n 函数的名字,方便按名调用 函数的类型,即函数返回值的类型 函数的参数的名字和类型,调用函数时需要传递的数据 函数的功能,函数体  定义无参函数 类型名\t函数名() { 函数体 } 或 类型名\t函数名(void) { 函数体 } 函数体包括声明部分(变量)和语句部分.",
    "inLanguage" : "en-us",
    "author" : "Kayleh",
    "creator" : "Kayleh",
    "publisher": "Kayleh",
    "accountablePerson" : "Kayleh",
    "copyrightHolder" : "Kayleh",
    "copyrightYear" : "2020",
    "datePublished": "2020-10-26 01:17:42 \u002b0800 CST",
    "dateModified" : "2020-10-26 01:17:42 \u002b0800 CST",
    "url" : "https:\/\/kayleh.top\/realize-modular-programming-with-functions\/",
    "wordCount" : "1462",
    "keywords" : [ "C", "Kayleh"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/" title="">Home</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/" title="">Home</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">realize modular programming with functions</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://kayleh.top" rel="author">Kayleh</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-10-26 itemprop="datePublished">October 26, 2020</time>
                </span>
                in
                
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <h1 id="用函数实现模块化程序设计">用函数实现模块化程序设计</h1>
<blockquote>
<p>Realize modular programming with functions</p>
</blockquote>
<p>用函数输出以下结果：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#f92672">*****************</span>
How <span style="color:#66d9ef">do</span> you <span style="color:#66d9ef">do</span><span style="color:#f92672">!</span>
<span style="color:#f92672">*****************</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">void</span> print_star();<span style="color:#75715e">//函数的声明
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> print_message();<span style="color:#75715e">//函数的声明
</span><span style="color:#75715e"></span>    print_star();
    print_message();
    print_star();
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print_star</span>()
{
    printf(<span style="color:#e6db74">&#34;*****************</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print_message</span>()
{
    printf(<span style="color:#e6db74">&#34;How do you do!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
}
</code></pre></div><blockquote>
<p>函数声明的作用是把有关函数的信息(函数名,函数类型,函数参数的个数与类型)通知编译系统,以便在编译系统对程序进行编译时,在进行到main函数调用print_star()和print_message()时知道它们是函数而不是变量或其他对象,还对调用函数的正确性进行检查.</p>
<p>函数间可以互相调用,但不能调用main函数,main函数是被操作系统调用的.</p>
<p>函数从用户使用的角度看分为:</p>
<ul>
<li>库函数</li>
<li>用户自己定义的函数</li>
</ul>
<p>从函数形式分为:</p>
<ul>
<li>无参函数</li>
<li>有参函数</li>
</ul>
</blockquote>
<h2 id="怎么定义函数">怎么定义函数</h2>
<p>定义函数应包括哪些内容:</p>
<ul>
<li>函数的名字,方便按名调用</li>
<li>函数的类型,即函数返回值的类型</li>
<li>函数的参数的名字和类型,调用函数时需要传递的数据</li>
<li>函数的功能,函数体</li>
</ul>
<h4 id="定义无参函数">定义无参函数</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">类型名</span>	<span style="color:#960050;background-color:#1e0010">函数名</span>()
{
    <span style="color:#960050;background-color:#1e0010">函数体</span>
}
<span style="color:#960050;background-color:#1e0010">或</span>
<span style="color:#960050;background-color:#1e0010">类型名</span>	<span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#66d9ef">void</span>)
{
    <span style="color:#960050;background-color:#1e0010">函数体</span>
}
</code></pre></div><p>函数体包括声明部分(变量)和语句部分.</p>
<h4 id="定义有参函数">定义有参函数</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">类型名</span>	<span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#960050;background-color:#1e0010">形式参数表列</span>)
{
    <span style="color:#960050;background-color:#1e0010">函数体</span>
}
</code></pre></div><h4 id="定义空函数">定义空函数</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">类型名</span>	<span style="color:#960050;background-color:#1e0010">函数名</span>()
{}
</code></pre></div><h2 id="调用函数">调用函数</h2>
<h4 id="函数调用的形式">函数调用的形式</h4>
<blockquote>
<p>函数名(实参表列)</p>
</blockquote>
<h4 id="函数调用方式">函数调用方式</h4>
<ul>
<li>
<p>调用语句</p>
</li>
<li>
<p>函数表达式</p>
<p>要求函数带回一个确定的值以参加表达式的运算</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">c<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>max(a,b);
</code></pre></div></li>
<li>
<p>函数参数</p>
<p>函数调用作为另一个函数调用时的实参,如:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">m<span style="color:#f92672">=</span>max(a,max(b,c));
</code></pre></div></li>
</ul>
<h3 id="函数调用时的数据传递">函数调用时的数据传递</h3>
<h4 id="形式参数和实际参数">形式参数和实际参数</h4>
<blockquote>
<p><code>形式参数</code></p>
<p>在定义函数时函数名后面括号中的变量名称为<code>形式参数</code></p>
</blockquote>
<blockquote>
<p><code>实际参数</code></p>
<p>在主调函数调用一个函数时,函数名后面括号中的变量名称为<code>实际参数</code></p>
</blockquote>
<h4 id="实参和形参间的数据传递">实参和形参间的数据传递</h4>
<blockquote>
<p>在调用函数过程中,系统会把实参中的值传递给被调函数的形参.</p>
</blockquote>
<h5 id="输入两个整数要求输出其中值较大者要求用函数来找到最大值">输入两个整数,要求输出其中值较大者,要求用函数来找到最大值.</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y);
    <span style="color:#66d9ef">int</span> a, b, c;
    printf(<span style="color:#e6db74">&#34;please enter 2 integer numbers:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d,%d&#34;</span>, <span style="color:#f92672">&amp;</span>a, <span style="color:#f92672">&amp;</span>b);
    c <span style="color:#f92672">=</span> max(a, b);
    printf(<span style="color:#e6db74">&#34;max is %d&#34;</span>, c);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
{c
    <span style="color:#66d9ef">int</span> z;
    z <span style="color:#f92672">=</span> x <span style="color:#f92672">&gt;</span> y <span style="color:#f92672">?</span> x : y;
    <span style="color:#66d9ef">return</span> z;
}
</code></pre></div><h3 id="函数调用的执行过程">函数调用的执行过程</h3>
<p>1)在定义函数中指定的形参,在未出现函数调用的时,它们并不占内存中的存储单元,在发生函数调用时,函数max的形参才被临时分配内存单元.</p>
<p>2)将实参的值传递给对应形参</p>
<p>3)在执行max函数期间,由于形参已经有值,就可以利用形参进行有关的运算</p>
<p>4)通过return语句将函数值带回到主调函数.</p>
<p>5)调用结束,形参单元被释放. 注意:实参单元仍保留并维持原值.没有改变.如果在执行一个被调函数时,形参的值发生改变,不会改变主调函数的实参的值.如:在执行max函数时,x和y的值变为10和15,但a和b仍为2和3,这是因为形参和实参是两个不同的存储单元.</p>
<h3 id="函数的返回值">函数的返回值</h3>
<ul>
<li>
<p>函数的返回值是通过return语句中获得的.</p>
</li>
<li>
<p>函数返回值的类型是函数的类型.</p>
</li>
<li>
<p>在定义函数时指定的函数类型一般应该和return语句中的表达式类型一致.</p>
</li>
</ul>
<p>将在max函数中定义的变量z改为float型,函数返回值与指定的函数类型不同</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y);
    <span style="color:#66d9ef">float</span> a, b;
    <span style="color:#66d9ef">int</span> c;
    scanf(<span style="color:#e6db74">&#34;%f,%f&#34;</span>, <span style="color:#f92672">&amp;</span>a, <span style="color:#f92672">&amp;</span>b);
    c <span style="color:#f92672">=</span> max(a, b);
    printf(<span style="color:#e6db74">&#34;max is %d&#34;</span>, c);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y)
{
    <span style="color:#66d9ef">float</span> z;
    z <span style="color:#f92672">=</span> x <span style="color:#f92672">&gt;</span> y <span style="color:#f92672">?</span> x : y;
    <span style="color:#66d9ef">return</span> (z);
}
<span style="color:#f92672">---------</span>
<span style="color:#ae81ff">1.5</span>,<span style="color:#ae81ff">2.6</span>
max is <span style="color:#ae81ff">2</span>
</code></pre></div><h3 id="对被调用函数的声明和函数原型">对被调用函数的声明和函数原型</h3>
<p>输入两个实数,用一个函数求它们之和.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">float</span> add(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y);
    <span style="color:#66d9ef">float</span> a, b, c;
    scanf(<span style="color:#e6db74">&#34;%f,%f&#34;</span>, <span style="color:#f92672">&amp;</span>a, <span style="color:#f92672">&amp;</span>b);
    c <span style="color:#f92672">=</span> add(a, b);
    printf(<span style="color:#e6db74">&#34;sum is %d&#34;</span>, c);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">float</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y)
{
    <span style="color:#66d9ef">float</span> z;
    z <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y;
    <span style="color:#66d9ef">return</span> (z);
}
</code></pre></div><h4 id="函数声明的两种形式">函数声明的两种形式</h4>
<p>1)函数类型	函数名(参数类型1	参数名1,参数类型2	参数名2,&hellip;参数类型n	参数名n)</p>
<p>2)函数类型	函数名(参数类型1,参数类型2,&hellip;,参数类型n)</p>
<p>编译系统只关心和检查参数个数和参数类型,而不检查参数名,因为在调用函数时只要求保证实参类型与形参类型一致,而不必考虑形参名是什么.因此在函数声明中</p>
<blockquote>
<p><code>函数原型</code>函数的首部称为函数原型</p>
</blockquote>
<h3 id="函数的嵌套调用">函数的嵌套调用</h3>
<h5 id="输入4个整数找出其中最大的数">输入4个整数,找出其中最大的数</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max4(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c, <span style="color:#66d9ef">int</span> d);
    <span style="color:#66d9ef">int</span> a, b, c, d, max;
    printf(<span style="color:#e6db74">&#34;please enter 4 integer numbers:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d %d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span>a, <span style="color:#f92672">&amp;</span>b, <span style="color:#f92672">&amp;</span>c, <span style="color:#f92672">&amp;</span>d);
    max <span style="color:#f92672">=</span> max4(a, b, c, d);
    printf(<span style="color:#e6db74">&#34;max:%d&#34;</span>, max);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max2</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b)
{
    <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">&gt;=</span> b)
        <span style="color:#66d9ef">return</span> a;
    <span style="color:#66d9ef">else</span>
        <span style="color:#66d9ef">return</span> b;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max4</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c, <span style="color:#66d9ef">int</span> d)
{
    <span style="color:#66d9ef">int</span> max2(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>);<span style="color:#75715e">//函数声明
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> m;
    m <span style="color:#f92672">=</span> max2(a, b);
    m <span style="color:#f92672">=</span> max2(m, c);
    m <span style="color:#f92672">=</span> max2(m, d);
    <span style="color:#66d9ef">return</span> m;
}
</code></pre></div><p>改进:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max4(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c, <span style="color:#66d9ef">int</span> d);
    <span style="color:#66d9ef">int</span> a, b, c, d, max;
    printf(<span style="color:#e6db74">&#34;please enter 4 integer numbers:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d %d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span>a, <span style="color:#f92672">&amp;</span>b, <span style="color:#f92672">&amp;</span>c, <span style="color:#f92672">&amp;</span>d);
    max <span style="color:#f92672">=</span> max4(a, b, c, d);
    printf(<span style="color:#e6db74">&#34;max:%d&#34;</span>, max);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max2</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b)
{
    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">&gt;=</span> b <span style="color:#f92672">?</span> a : b;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max4</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c, <span style="color:#66d9ef">int</span> d)
{
    <span style="color:#66d9ef">int</span> max2(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>);<span style="color:#75715e">//函数声明
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> max2(max2(max2(a, b), c), d);;
}
</code></pre></div><h2 id="函数的递归调用">函数的递归调用</h2>
<blockquote>
<p>一个递归的问题可以分为&quot;回溯&quot;和&quot;递推&quot;两个阶段.</p>
</blockquote>
<h5 id="用递归的方法求n-">用递归的方法求n! .</h5>
<blockquote>
<p>n!=1				(n=0,1)</p>
<p>n!=n×(n-1)	 (n&gt;1)</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> fac(<span style="color:#66d9ef">int</span> n);
    <span style="color:#66d9ef">int</span> n, y;
    printf(<span style="color:#e6db74">&#34;please enter an integer number:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>n);
    y <span style="color:#f92672">=</span> fac(n);
    printf(<span style="color:#e6db74">&#34;%d!=%d&#34;</span>, n,y);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fac</span>(<span style="color:#66d9ef">int</span> n)
{
    <span style="color:#66d9ef">int</span> f;
    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
        printf(<span style="color:#e6db74">&#34;n&lt;0.data error!&#34;</span>);
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
        f <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">else</span> f <span style="color:#f92672">=</span> fac(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> n;
    <span style="color:#66d9ef">return</span> f;
}
</code></pre></div><h5 id="汉诺塔问题">汉诺塔问题</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">void</span> hanoi(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">char</span> one, <span style="color:#66d9ef">char</span> two, <span style="color:#66d9ef">char</span> three);
    <span style="color:#66d9ef">int</span> m;
    printf(<span style="color:#e6db74">&#34;input the number of diskes:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>m);
    hanoi(m, <span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hanoi</span>(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">char</span> one, <span style="color:#66d9ef">char</span> two, <span style="color:#66d9ef">char</span> three)
{
    <span style="color:#75715e">//将n个盘从one座借助two座移动到three座
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> move(<span style="color:#66d9ef">char</span> x, <span style="color:#66d9ef">char</span> y);
    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
        move(one, three);
    <span style="color:#66d9ef">else</span>
    {
        hanoi(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, one, three, two);
        move(one, three);
        hanoi(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, two, one, three);
    }
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">move</span>(<span style="color:#66d9ef">char</span> x, <span style="color:#66d9ef">char</span> y)
{
    printf(<span style="color:#e6db74">&#34;%c --&gt; %c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, x, y);
}
</code></pre></div><h2 id="数组作为函数参数">数组作为函数参数</h2>
<blockquote>
<p>在用数组元素作函数实参时,把实参的值传给形参,是**&ldquo;值传递&rdquo;**方式,数据的传递是由**形参传到实参,单向传递.**</p>
</blockquote>
<h5 id="输入10个数要求输出其中值最大的元素和该数是第几个数">输入10个数,要求输出其中值最大的元素和该数是第几个数.</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y);
    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>], i, m, n;
    printf(<span style="color:#e6db74">&#34;please enter 10 integer numbers:&#34;</span>);
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
    {
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>a[i]);
    }
    printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, n <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, m <span style="color:#f92672">=</span> a[<span style="color:#ae81ff">0</span>]; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
    {
        <span style="color:#66d9ef">if</span> (max(m, a[i]) <span style="color:#f92672">&gt;</span> m)
        {
            m <span style="color:#f92672">=</span> max(m, a[i]);
            n <span style="color:#f92672">=</span> i;
        }
    }
    printf(<span style="color:#e6db74">&#34;the large number is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">it is the %dth number.&#34;</span>, m, n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
{
    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">&gt;</span> y <span style="color:#f92672">?</span> x : y;
}
</code></pre></div><h3 id="一维数组名作函数参数">一维数组名作函数参数</h3>
<h5 id="有一个一维数组score内放10个学生成绩求平均成绩">有一个一维数组score,内放10个学生成绩,求平均成绩.</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">float</span> average(<span style="color:#66d9ef">float</span> array[<span style="color:#ae81ff">10</span>]);
    <span style="color:#66d9ef">float</span> score[<span style="color:#ae81ff">10</span>], aver;
    <span style="color:#66d9ef">int</span> i;
    printf(<span style="color:#e6db74">&#34;input 10 scores:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
        scanf(<span style="color:#e6db74">&#34;%f&#34;</span>, <span style="color:#f92672">&amp;</span>score[i]);
    printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    aver <span style="color:#f92672">=</span> average(score);
    printf(<span style="color:#e6db74">&#34;average score is %5.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, aver);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">float</span> <span style="color:#a6e22e">average</span>(<span style="color:#66d9ef">float</span> array[<span style="color:#ae81ff">10</span>])
{
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">float</span> aver, sum <span style="color:#f92672">=</span> array[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
        sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> array[i];
    aver <span style="color:#f92672">=</span> sum <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span>;
    <span style="color:#66d9ef">return</span> aver;
}
</code></pre></div><p>形参数组可以不指定大小,在定义数组时在数组名后加上空括号,如</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">float</span> average(<span style="color:#66d9ef">float</span> array[])

</code></pre></div><h5 id="有两个班级分别有35名和39名学生调用一个average函数分别求两个班的学生的平均成绩">有两个班级,分别有35名和39名学生,调用一个average函数,分别求两个班的学生的平均成绩.</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">float</span> average(<span style="color:#66d9ef">float</span> array[], <span style="color:#66d9ef">int</span> n);
    <span style="color:#66d9ef">float</span> score1[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">89</span>, <span style="color:#ae81ff">99.5</span>, <span style="color:#ae81ff">99</span>, <span style="color:#ae81ff">45</span>, <span style="color:#ae81ff">78</span>};
    <span style="color:#66d9ef">float</span> score2[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">85.5</span>, <span style="color:#ae81ff">10.5</span>, <span style="color:#ae81ff">87.5</span>, <span style="color:#ae81ff">78.5</span>, <span style="color:#ae81ff">67.5</span>, <span style="color:#ae81ff">90.5</span>, <span style="color:#ae81ff">99.5</span>, <span style="color:#ae81ff">87.5</span>, <span style="color:#ae81ff">88</span>, <span style="color:#ae81ff">78.5</span>};
    
    <span style="color:#75715e">//用数组名作实参
</span><span style="color:#75715e"></span>    printf(<span style="color:#e6db74">&#34;The average of class A is %6.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, average(score1, <span style="color:#ae81ff">5</span>));
    printf(<span style="color:#e6db74">&#34;The average of class B is %6.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, average(score2, <span style="color:#ae81ff">10</span>));
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">float</span> <span style="color:#a6e22e">average</span>(<span style="color:#66d9ef">float</span> array[], <span style="color:#66d9ef">int</span> n)
{
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">float</span> aver, sum <span style="color:#f92672">=</span> array[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>)
        sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> array[i];
    aver <span style="color:#f92672">=</span> sum <span style="color:#f92672">/</span> n;
    <span style="color:#66d9ef">return</span> (aver);
}

</code></pre></div><h5 id="使用选择法对10个整数从小到大排序">使用选择法对10个整数从小到大排序</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">void</span> sort(<span style="color:#66d9ef">int</span> array[], <span style="color:#66d9ef">int</span> n);
    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>], i;
    printf(<span style="color:#e6db74">&#34;please enter array:&#34;</span>);
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
    {
        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>a[i]);
    }
    sort(a, <span style="color:#ae81ff">10</span>);
    printf(<span style="color:#e6db74">&#34;the sorted array:&#34;</span>);
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
    {
        printf(<span style="color:#e6db74">&#34;%d&#34;</span>, a[i]);
    }
    printf(<span style="color:#e6db74">&#34;/n&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(<span style="color:#66d9ef">int</span> array[], <span style="color:#66d9ef">int</span> n)
{
    <span style="color:#66d9ef">int</span> i, j, k, t;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>)
    {
        k <span style="color:#f92672">=</span> i;
        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">++</span>)
        {
            <span style="color:#66d9ef">if</span> (array[j] <span style="color:#f92672">&lt;</span> array[k])
                k <span style="color:#f92672">=</span> j;
            t <span style="color:#f92672">=</span> array[k];
            array[k] <span style="color:#f92672">=</span> array[i];
            array[i] <span style="color:#f92672">=</span> t;
        }
    }
}

</code></pre></div><h3 id="多维数组名作函数参数">多维数组名作函数参数</h3>
<p>可以使用多维函数数组名作为函数的实参和形参.</p>
<blockquote>
<p>形参数组和实参数组都是由相同类型和大小的一维数组组成的.C语言编译系统<strong>不检查第一维</strong>的大小.</p>
</blockquote>
<h5 id="有一个34的矩阵求所有元素的最大值">有一个3×4的矩阵,求所有元素的最大值.</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max_value(<span style="color:#66d9ef">int</span> array[][<span style="color:#ae81ff">4</span>]);
    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> {{<span style="color:#ae81ff">1</span>,  <span style="color:#ae81ff">3</span>,  <span style="color:#ae81ff">5</span>,  <span style="color:#ae81ff">7</span>},
                   {<span style="color:#ae81ff">2</span>,  <span style="color:#ae81ff">4</span>,  <span style="color:#ae81ff">6</span>,  <span style="color:#ae81ff">8</span>},
                   {<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">34</span>, <span style="color:#ae81ff">12</span>}};
    printf(<span style="color:#e6db74">&#34;max value is %d&#34;</span>, max_value(a));

}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max_value</span>(<span style="color:#66d9ef">int</span> array[][<span style="color:#ae81ff">4</span>])
{
    <span style="color:#66d9ef">int</span> max, i, j;
    max <span style="color:#f92672">=</span> array[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; <span style="color:#f92672">++</span>i)
    {
        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>j)
        {
            <span style="color:#66d9ef">if</span> (array[i][j] <span style="color:#f92672">&gt;</span> max)
                max <span style="color:#f92672">=</span> array[i][j];
        }
    }
    <span style="color:#66d9ef">return</span> max;
}

</code></pre></div><blockquote>
<p>注意:</p>
<p>1.形参数组array第一维的大小省略,第2维大小不能省略,而且要和实参数组a的第2维大小相同.</p>
<p>2.在主函数调用max_value函数时,把实参二维数组a的第1行的起始地址传递给形参数组array.因此array数组第一行的起始地址与a数组的第一行起始地址相同.</p>
</blockquote>
<h1 id="局部变量和全局变量">局部变量和全局变量</h1>
<p><strong>作用域</strong></p>
<p>每个变量都有作用域问题,即它们在什么范围内有效.</p>
<h3 id="局部变量">局部变量</h3>
<p>定义变量有3种情况:</p>
<p>(1)在函数的开头定义</p>
<p>(2)在函数内的复合语句内定义</p>
<p>(3)在函数的外部定义</p>
<h4 id="说明">说明:</h4>
<p>1.主函数中定义的变量也只在主函数中有效</p>
<p>2.不同函数中可以使用同名的变量</p>
<p>3.形式参数也是局部变量</p>
<p>4.在一个函数内部,可以在复合语句中定义变量,这些变量只在本复合语句中有效,这种复合语句也称为&quot;分程序&quot;或&quot;程序块&quot;.离开复合语句,变量就无效,系统会把占用的内存资源释放.</p>
<h3 id="全局变量">全局变量</h3>
<blockquote>
<p>程序的编译单位是源程序文件.</p>
</blockquote>
<p>在函数之内定义的变量是局部变量,</p>
<p>在函数之外定义的变量是外部变量,是<strong>全局变量</strong>.它的有效范围为从定义变量的位置开始到本源程序文件结束.</p>
<h5 id="非必要不建议使用全局变量">非必要不建议使用全局变量:</h5>
<p>1.在全部执行过程中都占用存储单元,而不是仅在需要时才开辟单元.</p>
<p>2.减低程序的清晰性,不易维护</p>
<h1 id="变量的存储方式和生存期">变量的存储方式和生存期</h1>
<h4 id="动态存储方式和静态存储方式">动态存储方式和静态存储方式</h4>
<p>从变量值的存在时间(即生存期)来分:</p>
<blockquote>
<p>静态存储方式:程序在运行期间由系统分配固定的存储空间的方式</p>
<p>动态存储方式:程序运行期间根据需要进行动态的分配存储空间的方式.</p>
</blockquote>
<p>数据分别存放在静态存储区和动态存储区,全局变量全部存放在静态存储区中.</p>
<blockquote>
<p>在<strong>动态存储区</strong>中存放以下数据:</p>
<p>①函数形式参数。在调用函数时给形参分配存储空间。</p>
<p>②函数中定义的没有用关键字static声明的变量,即自动变量.</p>
<p>③函数调用时的现场保护和返回地址.</p>
</blockquote>
<p>如果在一个程序中两次调用同一函数,而在此函数中定义了局部变量,在两次调用时分配给这些局部变量的存储空间的地址可能不一样.</p>
<p>每个变量和函数都有两个属性,<strong>数据类型</strong>(如整型,浮点型)和<strong>数据的存储类型</strong>(静态存储,动态存储).</p>
<blockquote>
<p>在定义和声明变量和函数时,一般应同时指定其数据数据类型和存储类型,也可以以默认的方式指定(即如果用户不指定,系统会隐含地指定为某一种存储类型).</p>
</blockquote>
<p>C的存储类别:</p>
<ul>
<li>自动的(auto)</li>
<li>静态的(static)</li>
<li>寄存器的(register)</li>
<li>外部的(extern)</li>
</ul>
<h2 id="局部变量的存储类别">局部变量的存储类别</h2>
<h4 id="自动变量auto变量">自动变量(auto变量)</h4>
<p>函数中的局部变量,如果不专门声明为static(静态)存储类型,都是动态地分配存储空间的,数据存储在动态存储区中.程序运行期间根据需要进行动态的分配存储空间的方式.因此这类局部变量称为自动变量.</p>
<p>自动变量用关键字auto作存储类别的声明.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">f</span>(<span style="color:#66d9ef">int</span> a) <span style="color:#75715e">//定义f函数，a为形参
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">int</span> b, c <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; <span style="color:#75715e">//定义b，c为自动变量
</span><span style="color:#75715e"></span>}

</code></pre></div><p>执行完后自动释放a,b,c所占的存储单元.</p>
<blockquote>
<p>auto关键字可以省略,不写auto则隐含指定为&quot;自动存储类别&quot;,属于动态存储方式.</p>
</blockquote>
<h4 id="静态局部变量static局部变量">静态局部变量(static局部变量)</h4>
<p>有时希望函数中的局部变量的值在函数调用结束后不消失而继续保留原值,即其占用的存储空间不释放,在下一次再调用该函数时,该变量已有值(就是上一次函数调用结束的值)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> f(<span style="color:#66d9ef">int</span>);
    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, i;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; i<span style="color:#f92672">++</span>)
        printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, f(a));
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
    
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">f</span>(<span style="color:#66d9ef">int</span> a)
{
    <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">static</span> c <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    b <span style="color:#f92672">=</span> b <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    c <span style="color:#f92672">=</span> c <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">return</span> (a <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> c);
}
<span style="color:#f92672">--------</span>
<span style="color:#ae81ff">7</span>
<span style="color:#ae81ff">8</span>
<span style="color:#ae81ff">9</span>

</code></pre></div><blockquote>
<p>对静态局部变量是在编译时赋初值的,即只赋值一次,在程序运行时它已有初值.</p>
<p>而对自动变量是在函数调用时进行的,每调用一次函数重新给一次初值.</p>
</blockquote>
<blockquote>
<p>在定义局部变量时不赋初值的话,则对静态变量来说,编译时自动赋初值0(对数值型变量)或空字符'\0'(对字符变量).</p>
<p>而对自动变量来说,它的值是一个不确定的值.由于每次函数调用结束后存储单元已释放,下次调用时又重新另分配存储单元,而所分配的单元内容是不可知的.</p>
</blockquote>
<h5 id="输出1到5的阶乘值局部静态变量">输出1到5的阶乘值.(局部静态变量)</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> fac(<span style="color:#66d9ef">int</span>);
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">5</span>; <span style="color:#f92672">++</span>i)
    {
        printf(<span style="color:#e6db74">&#34;%d!=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, fac(i));
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fac</span>(<span style="color:#66d9ef">int</span> n)
{
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> f <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//f保留了上次函数调用结束的值
</span><span style="color:#75715e"></span>    f <span style="color:#f92672">=</span> f <span style="color:#f92672">*</span> n;
    <span style="color:#66d9ef">return</span> (f);
}

</code></pre></div><blockquote>
<p>不建议使用静态存储,长期占用不释放.</p>
</blockquote>
<h4 id="寄存器变量register变量">寄存器变量(register变量)</h4>
<blockquote>
<p>为提高执行效率，允许将局部变量的值放在CPU中的寄存器中，需要用时直接从寄存器取出参加运算，不必再到内存中取存取。</p>
</blockquote>
<p>优化的编译系统能够识别使用频繁的变量，从而自动地将这些变量放在寄存器中。因此实际上用register声明变量的必要性不大。</p>
<blockquote>
<p>三种局部变量的存储位置是不同的：</p>
<p>自动变量是存储在动态存储区；</p>
<p>静态局部变量是存储在静态存储区；</p>
<p>寄存器存储在CPU中的寄存器中。</p>
</blockquote>
<h2 id="全局变量的存储类型">全局变量的存储类型</h2>
<h4 id="在一个文件内扩展外部变量的作用域">在一个文件内扩展外部变量的作用域</h4>
<blockquote>
<p>如果由于某种考虑，在定义点之前的函数需要引用该外部变量，则在引用之前用关键字<code>extern</code>对该变量作**“外部变量声明”**，表示把该外部变量的作用域扩展到此位置。</p>
</blockquote>
<h5 id="调用函数求3个整数中的大者"><strong>调用函数，求3个整数中的大者。</strong></h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> max();
    <span style="color:#66d9ef">int</span> i;
    <span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">int</span> A, B, C;
    printf(<span style="color:#e6db74">&#34;please enter three integer numbers:&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span>A, <span style="color:#f92672">&amp;</span>B, <span style="color:#f92672">&amp;</span>C);
    printf(<span style="color:#e6db74">&#34;max is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, max());
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">int</span> A, B, C;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>()
{
    <span style="color:#66d9ef">int</span> m;
    m <span style="color:#f92672">=</span> A <span style="color:#f92672">&gt;</span> B <span style="color:#f92672">?</span> A : B;
    <span style="color:#66d9ef">if</span> (C <span style="color:#f92672">&gt;</span> m)m <span style="color:#f92672">=</span> C;
    <span style="color:#66d9ef">return</span> m;
}

</code></pre></div><h4 id="将外部变量的作用域扩展到其他文件">将外部变量的作用域扩展到其他文件</h4>
<h5 id="给定b的值输入a和m求ab和am的值">给定b的值，输入a和m，求a*b和$a^m$的值</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#75715e">//file1.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> A;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">int</span> power(<span style="color:#66d9ef">int</span>);
    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, c, d, m;
    printf(<span style="color:#e6db74">&#34;please enter the number a and its power m:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%d,%d&#34;</span>, <span style="color:#f92672">&amp;</span>A, <span style="color:#f92672">&amp;</span>m);
    c <span style="color:#f92672">=</span> A <span style="color:#f92672">*</span> b;
    printf(<span style="color:#e6db74">&#34;%d*%d=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, A, b, c);
    d <span style="color:#f92672">=</span> power(m);
    printf(<span style="color:#e6db74">&#34;%d**%d=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, A, m, d);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#75715e">//file2.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">extern</span>  A;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">power</span>(<span style="color:#66d9ef">int</span> n)
{
    <span style="color:#66d9ef">int</span> i, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>)
        y <span style="color:#f92672">*=</span> A;
    <span style="color:#66d9ef">return</span> y;
}

</code></pre></div><blockquote>
<p>extern既可以用来扩展外部变量在本文件的作用域,又可以使外部变量的作用域从一个文件扩展到程序中的其他文件,那么系统怎么区别处理呢?</p>
<p>在编译时遇到extern时,先在本文件中找外部变量的定义,如果找到,则在本文件中扩展作用域;</p>
<p>如果找不到,就在连接时从其他文件找到外部变量的定义,如果从其他文件中找到了,就将作用域扩展到本文件;如果再找不到,就按出错处理.</p>
</blockquote>
<h4 id="将外部变量的作用域限制在本文件中">将外部变量的作用域限制在本文件中</h4>
<p>有时在程序设计中希望某些外部变量只限于被本文件引用,而不能被其他文件引用,这时可以在定义外部变量时加一个<code>static</code>声明.</p>
<p>加上<code>static</code>声明,只能用于本文件的外部变量称为<code>静态外部变量</code>.这就为程序的模块化,通用性提供方便.</p>
<p>如果已确认其他文件不需要引用本文件的外部变量,就可以对本文件的外部变量都加上static,成为静态外部变量,以免被其他文件误用.这就相当于把本文件的外部变量对外界&quot;屏蔽起来&quot;,从其他文件的角度看,这个<code>静态外部变量</code>是&quot;看不见的,不能用的&quot;.</p>
<blockquote>
<p>用<code>static</code>声明一个变量的作用:</p>
<ul>
<li>对局部变量使用:</li>
</ul>
<p>把它分配在静态存储区,该变量在整个程序执行期间不释放,其所分配的空间始终存在.</p>
<ul>
<li>对全局变量使用:</li>
</ul>
<p>则该变量的作用域只限于本文件模块(即被声明的文件中).</p>
</blockquote>
<h5 id="注意">注意:</h5>
<p>auto,static,register声明变量时,是在定义变量的基础上加上这些关键字,不能<strong>单独使用</strong></p>
<p>如:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">	<span style="color:#66d9ef">int</span> a;
	<span style="color:#66d9ef">static</span> a; <span style="color:#75715e">//企图将变量a声明为静态变量
</span><span style="color:#75715e"></span>
</code></pre></div><p>编译时会被认为&quot;重新定义&quot;.</p>
<h1 id="关于变量的声明和定义">关于变量的声明和定义</h1>
<ul>
<li>定义:建立存储空间的声明(&ldquo;int a;&quot;),定义性声明</li>
<li>声明:不建立存储空间的声明(&ldquo;extern a;&quot;),引用性声明</li>
</ul>
<p>声明包括定义,但并非所有的声明都是定义.</p>
<h1 id="内部函数和外部函数">内部函数和外部函数</h1>
<h3 id="内部函数">内部函数</h3>
<p>如果一个函数只能被本文件中的其他函数所调用，它称为<strong>内部函数</strong>，在定义内部函数时，在函数名和函数类型的前面加static，即：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">static</span> <span style="color:#960050;background-color:#1e0010">类型名</span> <span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#960050;background-color:#1e0010">形参表</span>)
<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> fun(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)

</code></pre></div><p>内部函数又被称为静态函数，因为它是用static声明的。使用内部函数，可以使函数的作用域只局限于所在文件。这样，在不同的文件中即使有同名的内部函数，也互不干扰，不必担心所用函数是否会与其他文件中的模块中的函数同名。</p>
<h3 id="外部函数">外部函数</h3>
<p>如果在定义函数时，在函数首部的最左端加关键字extern，则此函数是外部函数，可供其他文件使用。</p>
<p>如函数首部可以为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">int</span> fun(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)

</code></pre></div><p>这样，函数fun就可以为其他文件调用。c语言规定，如果在定义函数时省略extern，则默认为<strong>外部函数</strong>。</p>
<h5 id="有一个字符串内有若干个字符现输入一个字符要求程序将字符串中该字符删去">有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#75715e">//file1.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">void</span> enter_string(<span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">80</span>]);
    <span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">void</span> delete_string(<span style="color:#66d9ef">char</span> str[], <span style="color:#66d9ef">char</span> ch);
    <span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">void</span> print_string(<span style="color:#66d9ef">char</span> str[]);
    <span style="color:#66d9ef">char</span> c, str[<span style="color:#ae81ff">80</span>];
    enter_string(str);
    scanf(<span style="color:#e6db74">&#34;%c&#34;</span>, <span style="color:#f92672">&amp;</span>c);<span style="color:#75715e">//输入需要删除的字符
</span><span style="color:#75715e"></span>    delete_string(str, c);
    print_string(str);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}


<span style="color:#75715e">//file2.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">enter_string</span>(<span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">80</span>])
{
    gets(str);
}

<span style="color:#75715e">//file3.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete_string</span>(<span style="color:#66d9ef">char</span> str[], <span style="color:#66d9ef">char</span> ch)
{
    <span style="color:#66d9ef">int</span> i, j;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; str[i] <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;\0&#39;</span>; i<span style="color:#f92672">++</span>)
        <span style="color:#66d9ef">if</span> (str[i] <span style="color:#f92672">!=</span> ch)
            str[j<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> str[i];
    str[j] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\0&#39;</span>;
}

<span style="color:#75715e">//file4.c
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print_string</span>(<span style="color:#66d9ef">char</span> str[])
{
    printf(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, str);
}


</code></pre></div><blockquote>
<p>extern可以省略</p>
</blockquote>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Kayleh </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://kayleh.top/realize-modular-programming-with-functions/>https://kayleh.top/realize-modular-programming-with-functions/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://kayleh.top/tags/c/">
                    #C</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://kayleh.top">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://kayleh.top/use-arrays-to-process-batch-data/" class="prev" rel="prev" title="use-arrays-to-process-batch-data"><i class="iconfont icon-left"></i>&nbsp;use-arrays-to-process-batch-data</a>
         
        
        <a href="https://kayleh.top/9.users-create-data-types-themselves/" class="next" rel="next" title="users create data types themselves">users create data types themselves&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <script async="" src="https://widget.daovoice.io/widget/38b1c911.js" charset="utf-8"></script>
    <script data-ad-client="ca-pub-7457165067653912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"style="display:inline-block;width:728px;height:90px"data-ad-client="ca-pub-7457165067653912"data-ad-slot="9837525717"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    <script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?2cd1dc193190f18fed292accb735c684";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script>
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://kayleh.top">Kayleh</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
