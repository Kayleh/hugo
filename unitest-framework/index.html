<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://kayleh.top/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://kayleh.top/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github-style.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/light.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/dark.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/syntax.css' />
    <title>Unitest framework - Kayleh</title>
    
    <link rel="icon" type="image/x-icon" href='https://kayleh.top/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="多条测试用例 注解方法 五个方法 测试用例testcase 测试集合testsuite 追加单个测试对象  print(re.__dict__)
 追加多个测试对象 TestLoder 第一个参数path：指定存放测试用例的目录（单元测试用例，用unittest框架写的测试用例）
第二个参数pattern：指定匹配规则
TestRunner 状态1 状态2（大于1即可）详细报告  断言 class mymath(): def jia(self,a,b): return a&#43;b; def jian(self,a,b): return a-b def changfa(self,a,b): if b==0: return &amp;#34;error&amp;#34; else: return a/b #代码功能验证 if __name__==&amp;#34;__main__&amp;#34;: mm = mymath() actualValue = m.jia(2,3) expectValue = 5 if actualValue==expectValue: print(&amp;#34;加法功能实现正确&amp;#34;) try: actualValue==mm.jia(&amp;#34;a&amp;#34;,3) except Exception as e: print(&amp;#34;该方法功能实现正确&amp;#34;，e) ----------------------------------------------------------- #导包 import unittest from myMath import mymath #创建单元测试类(继承自unittest.testcase) class myMathTest(unittest.TestCase): #测试用例资源初始化方法 def setUp(self): self." />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://kayleh.top/unitest-framework/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Unitest framework - Kayleh" />
<meta name="twitter:description"
  content="多条测试用例 注解方法 五个方法 测试用例testcase 测试集合testsuite 追加单个测试对象  print(re.__dict__)
 追加多个测试对象 TestLoder 第一个参数path：指定存放测试用例的目录（单元测试用例，用unittest框架写的测试用例）
第二个参数pattern：指定匹配规则
TestRunner 状态1 状态2（大于1即可）详细报告  断言 class mymath(): def jia(self,a,b): return a&#43;b; def jian(self,a,b): return a-b def changfa(self,a,b): if b==0: return &amp;#34;error&amp;#34; else: return a/b #代码功能验证 if __name__==&amp;#34;__main__&amp;#34;: mm = mymath() actualValue = m.jia(2,3) expectValue = 5 if actualValue==expectValue: print(&amp;#34;加法功能实现正确&amp;#34;) try: actualValue==mm.jia(&amp;#34;a&amp;#34;,3) except Exception as e: print(&amp;#34;该方法功能实现正确&amp;#34;，e) ----------------------------------------------------------- #导包 import unittest from myMath import mymath #创建单元测试类(继承自unittest.testcase) class myMathTest(unittest.TestCase): #测试用例资源初始化方法 def setUp(self): self." />
<meta name="twitter:site" content="https://kayleh.top" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://kayleh.top">


<meta property="og:type" content="article" />
<meta property="og:title" content="Unitest framework - Kayleh">
<meta property="og:description"
  content="多条测试用例 注解方法 五个方法 测试用例testcase 测试集合testsuite 追加单个测试对象  print(re.__dict__)
 追加多个测试对象 TestLoder 第一个参数path：指定存放测试用例的目录（单元测试用例，用unittest框架写的测试用例）
第二个参数pattern：指定匹配规则
TestRunner 状态1 状态2（大于1即可）详细报告  断言 class mymath(): def jia(self,a,b): return a&#43;b; def jian(self,a,b): return a-b def changfa(self,a,b): if b==0: return &amp;#34;error&amp;#34; else: return a/b #代码功能验证 if __name__==&amp;#34;__main__&amp;#34;: mm = mymath() actualValue = m.jia(2,3) expectValue = 5 if actualValue==expectValue: print(&amp;#34;加法功能实现正确&amp;#34;) try: actualValue==mm.jia(&amp;#34;a&amp;#34;,3) except Exception as e: print(&amp;#34;该方法功能实现正确&amp;#34;，e) ----------------------------------------------------------- #导包 import unittest from myMath import mymath #创建单元测试类(继承自unittest.testcase) class myMathTest(unittest.TestCase): #测试用例资源初始化方法 def setUp(self): self." />
<meta property="og:url" content="https://kayleh.top/unitest-framework/" />
<meta property="og:site_name" content="Unitest framework" />
<meta property="og:image"
  content="https://kayleh.top">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2021-02-13 00:00:57 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://kayleh.top">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://kayleh.top">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://kayleh.top">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://kayleh.top">
                  <img class=" avatar-user"
                    src="http://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://kayleh.top">Kayleh</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://kayleh.top/unitest-framework/">Unitest framework</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sat, 13 Feb 2021 00:00:57 &#43;0800"
                    class="no-wrap">
                    Sat, 13 Feb 2021 00:00:57 &#43;0800</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div class="file-header d-flex flex-md-items-center flex-items-start">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    1920 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/test">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      test
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5">
                <article class="markdown-body entry-content container-lg"><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613147342997.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613147496034.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613149415607.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613149552674.png" alt=""></p>
<h4 id="多条测试用例">多条测试用例</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613149845499.png" alt=""></p>
<h4 id="注解方法">注解方法</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613199579426.png" alt="1613199579426"></p>
<h4 id="五个方法">五个方法</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613199693463.png" alt="1613199693463"></p>
<h4 id="测试用例testcase">测试用例testcase</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613201703588.png" alt="1613201703588"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613202112317.png" alt="1613202112317"></p>
<h4 id="测试集合testsuite">测试集合testsuite</h4>
<h5 id="追加单个测试对象">追加单个测试对象</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613207825662.png" alt="1613207825662"></p>
<blockquote>
<p>print(re.__dict__)</p>
</blockquote>
<h5 id="追加多个测试对象">追加多个测试对象</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613209390861.png" alt="1613209390861"></p>
<h4 id="testloder">TestLoder</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613231860846.png" alt="1613231860846"></p>
<p>第一个参数path：指定存放测试用例的目录（单元测试用例，用unittest框架写的测试用例）</p>
<p>第二个参数pattern：指定匹配规则</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613233980464.png" alt="1613233980464"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613234000816.png" alt="1613234000816"></p>
<h4 id="testrunner">TestRunner</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613318481043.png" alt="1613318481043"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613319975732.png" alt="1613319975732"></p>
<h5 id="状态1">状态1</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613320910898.png" alt="1613320910898"></p>
<h5 id="状态2大于1即可详细报告">状态2（大于1即可）详细报告</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613320887518.png" alt="1613320887518"></p>
<h5 id="1613321695363httpscdnjsdelivrnetghkaylehcdn3unitest-framework1613321695363png"><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613321695363.png" alt="1613321695363"></h5>
<h5 id="断言">断言</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613382483121.png" alt="1613382483121"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">mymath</span>():
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">jia</span>(self,a,b):
        <span style="color:#66d9ef">return</span> a<span style="color:#f92672">+</span>b;

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">jian</span>(self,a,b):
        <span style="color:#66d9ef">return</span> a<span style="color:#f92672">-</span>b

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">changfa</span>(self,a,b):
        <span style="color:#66d9ef">if</span> b<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>:
            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;error&#34;</span>
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">return</span> a<span style="color:#f92672">/</span>b

<span style="color:#75715e">#代码功能验证</span>
<span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    mm <span style="color:#f92672">=</span> mymath()
    actualValue <span style="color:#f92672">=</span> m<span style="color:#f92672">.</span>jia(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
    expectValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
    <span style="color:#66d9ef">if</span> actualValue<span style="color:#f92672">==</span>expectValue:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;加法功能实现正确&#34;</span>)

    <span style="color:#66d9ef">try</span>:
        actualValue<span style="color:#f92672">==</span>mm<span style="color:#f92672">.</span>jia(<span style="color:#e6db74">&#34;a&#34;</span>,<span style="color:#ae81ff">3</span>)
    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;该方法功能实现正确&#34;</span><span style="color:#960050;background-color:#1e0010">，</span>e)
<span style="color:#f92672">-----------------------------------------------------------</span>
<span style="color:#75715e">#导包</span>
<span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> myMath <span style="color:#f92672">import</span> mymath

<span style="color:#75715e">#创建单元测试类(继承自unittest.testcase)</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">myMathTest</span>(unittest<span style="color:#f92672">.</span>TestCase):

    <span style="color:#75715e">#测试用例资源初始化方法</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(self):
        self<span style="color:#f92672">.</span>mm <span style="color:#f92672">=</span> mymath()

    <span style="color:#75715e">#测试用例方法</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_add_1</span>(self):
        actualValue <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>mm<span style="color:#f92672">.</span>jia(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>)
        expectValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
        <span style="color:#75715e">#断言</span>
        self<span style="color:#f92672">.</span>assertEqual(actualValue,expectValue,<span style="color:#e6db74">&#34;预期结果不一致&#34;</span>)
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_add_2</span>(self):
        actualValue <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>mm<span style="color:#f92672">.</span>jia(<span style="color:#e6db74">&#34;abc&#34;</span>,<span style="color:#e6db74">&#34;def&#34;</span>)
        expectValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdef&#34;</span>
        self<span style="color:#f92672">.</span>assertEqual(actualValue,expectValue,<span style="color:#e6db74">&#34;预期结果不一致&#34;</span>)
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_floor_1</span>(self):
        actualValue <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>mm<span style="color:#f92672">.</span>chufa(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">0</span>)
        expectValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdef&#34;</span>
        self<span style="color:#f92672">.</span>assertEqual(actualValue,expectValue,<span style="color:#e6db74">&#34;预期结果不一致&#34;</span>)

    <span style="color:#75715e">#测试用例的资源释放</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">tearDown</span>(self):
        <span style="color:#66d9ef">pass</span>

<span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    <span style="color:#75715e">#unittest.main()</span>
    <span style="color:#75715e">#直接使用discover</span>
    discover<span style="color:#f92672">=</span>unittest<span style="color:#f92672">.</span>defaultTestLoader<span style="color:#f92672">.</span>discover(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;./20200408/&#34;</span>,pattern<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;myMathTest.py&#34;</span>)
    <span style="color:#75715e">#使用runner运行器运行测试集  &#34;a&#34;追加模式</span>
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;./20200408/re.txt&#34;</span>,<span style="color:#e6db74">&#34;a&#34;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>) <span style="color:#66d9ef">as</span> f:
        runner<span style="color:#f92672">=</span>unittest<span style="color:#f92672">.</span>TextTestRunner(f,description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;用于测试math类的用例执行&#34;</span>,verbosity<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
        runner<span style="color:#f92672">.</span>run(discover)
</code></pre></div><p>maintest.py</p>
<blockquote>
<p>主测试文件,不是用来写测试用的,而是用来组织测试用来执行的</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613396353835.png" alt="1613396353835"></p>
<h3 id="html测试文档">HTML测试文档</h3>
<h5 id="htmltestrunner模块">HTMLTestRunner模块</h5>
<p>安装HTMLTestRunner.py到python的安装目录下/lib中</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">pip install html-TestRunner
</code></pre></div><h5 id="使用">使用</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> os
<span style="color:#f92672">from</span> HTMLTestRunner <span style="color:#f92672">import</span> HTMLTestRunner

<span style="color:#75715e">#path=os.path.dirname(__file__)当前目录</span>
path<span style="color:#f92672">=</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__)<span style="color:#f92672">+</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;/&#34;</span>
filename<span style="color:#f92672">=</span>time<span style="color:#f92672">.</span>strname(<span style="color:#e6db74">&#34;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">-%H-%M-%S&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;.html&#34;</span>
filename <span style="color:#f92672">=</span> path <span style="color:#f92672">+</span> filename
<span style="color:#75715e">#修改代码</span>
<span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;./20200408/result.html&#34;</span>,<span style="color:#e6db74">&#34;wb&#34;</span>) <span style="color:#66d9ef">as</span> f:
	runner<span style="color:#f92672">=</span>unittest<span style="color:#f92672">.</span>HTMLTestRunner(f,verbosity<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;单元测试报告&#34;</span>,description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;第一次运行的结果&#34;</span>)
	runner<span style="color:#f92672">.</span>run(discover)
</code></pre></div><p>注释</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613572049278.png" alt="1613572049278"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613572027235.png" alt="1613572027235"></p>
<h3 id="邮件自动化">邮件自动化</h3>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613574779605.png" alt="1613574779605"></p>
<h3 id="项目">项目</h3>
<p>项目目录结构</p>
<pre><code>---public(模块,例如注册,登录,退出)
---test_cases(测试用例)
---test_datas(测试数据,例如csv文件)
---test_report(测试报告)
</code></pre><p>电商系统/public/loginModule.py</p>
<blockquote>
<p>登录模块</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
<span style="color:#f92672">from</span> selenium.webdriver.common.action_chains <span style="color:#f92672">import</span> ActionChains
<span style="color:#f92672">import</span> time
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">very_login</span>():
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">login</span>(self,driver):
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">=</span>driver
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>implicitly_wait(<span style="color:#ae81ff">10</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://localhost/verydows/&#34;</span>)
        <span style="color:#75715e">#点击登录</span>
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_link_text(<span style="color:#e6db74">&#34;登录&#34;</span>)<span style="color:#f92672">.</span>click()
        <span style="color:#75715e">#输入用户名密码</span>
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;//*[@id=&#34;username&#34;]&#39;</span>)<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#34;kayleh&#34;</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;//*[@id=&#34;password&#34;]&#39;</span>)<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#34;123456&#34;</span>)
        <span style="color:#75715e">#点击登录按钮</span>
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;//*[@id=&#34;login-form&#34;]/div/a&#39;</span>)<span style="color:#f92672">.</span>click()
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">5</span>)
       
    <span style="color:#75715e">#退出登录</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">logout</span>(self,driver):
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">=</span>driver
        ele<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;//*[@id=&#34;top-userbar&#34;]/a&#39;</span>)
        ActionChains(self<span style="color:#f92672">.</span>driver)<span style="color:#f92672">.</span>move_to_element(ele)<span style="color:#f92672">.</span>perform()
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_link_text(<span style="color:#e6db74">&#34;退出&#34;</span>)<span style="color:#f92672">.</span>click()
    
    <span style="color:#75715e">#退出浏览器对象</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">quitB</span>(self,driver):
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">=</span>driver
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>quit()
        
<span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    driver<span style="color:#f92672">=</span>webdriver<span style="color:#f92672">.</span>Chrome()
    
</code></pre></div><p>电商系统/testcases/verydows_user_update.py</p>
<blockquote>
<p>更新用户信息</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
<span style="color:#f92672">import</span> time
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> sys

<span style="color:#75715e">#os.path.dirname(os.path.dirname(__file__))是这个文件的目录的上一级目录(电商系统)</span>
path<span style="color:#f92672">=</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__))<span style="color:#f92672">+</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;/public&#34;</span>
<span style="color:#75715e">#添加到环境变量</span>
path1<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>path
path1<span style="color:#f92672">.</span>append(path)
<span style="color:#f92672">from</span> loginModule <span style="color:#f92672">import</span> very_login

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">verydows_user_update</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(self):
        self<span style="color:#f92672">.</span>ll <span style="color:#f92672">=</span> very_login()
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">=</span>webdriver<span style="color:#f92672">.</span>Chrome()
        self<span style="color:#f92672">.</span>ll<span style="color:#f92672">.</span>login(self<span style="color:#f92672">.</span>driver)
       
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_user_01</span>(self):
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">3</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;&#39;</span>)<span style="color:#f92672">.</span>click()
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">2</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;&#39;</span>)<span style="color:#f92672">.</span>clear()
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">2</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;&#39;</span>)<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#34;petter&#34;</span>)
    	time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">2</span>)
        self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;&#39;</span>)<span style="color:#f92672">.</span>clear()
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">5</span>)
        <span style="color:#75715e">#修改完验证</span>
        
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">tearDown</span>(self):
        self<span style="color:#f92672">.</span>ll<span style="color:#f92672">.</span>logout(self<span style="color:#f92672">.</span>driver)
        self<span style="color:#f92672">.</span>ll<span style="color:#f92672">.</span>quitB(self<span style="color:#f92672">.</span>driver)
    	actualValue<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;&#39;</span>)<span style="color:#f92672">.</span>get_attribute(<span style="color:#e6db74">&#34;value&#34;</span>)
        expectValue<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;peter&#34;</span>
        self<span style="color:#f92672">.</span>assertEqual(actualValue,expectValue)
<span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><p>电商系统/testcases/verydows_reg_true.py</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
<span style="color:#f92672">import</span> time
<span style="color:#f92672">import</span> csv
<span style="color:#f92672">import</span> os

filename <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__))<span style="color:#f92672">+</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;/test_datas/data_csv.csv&#34;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">verydows_reg_true</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(self):
        <span style="color:#66d9ef">pass</span>
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_reg_01</span>(self):
        <span style="color:#66d9ef">with</span> open(filename,<span style="color:#e6db74">&#34;r&#34;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>) <span style="color:#66d9ef">as</span> f:
            data<span style="color:#f92672">=</span>csv<span style="color:#f92672">.</span>reader(f)
            <span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> data:
                driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://localhost/verydows/&#34;</span>)
                driver<span style="color:#f92672">.</span>find_element_by_link_text(<span style="color:#e6db74">&#34;免费注册&#34;</span>)<span style="color:#f92672">.</span>click()
                driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#34;username&#34;</span>)<span style="color:#f92672">.</span>send_keys(d[<span style="color:#ae81ff">0</span>])
                driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#34;email&#34;</span>)<span style="color:#f92672">.</span>send_keys(d[<span style="color:#ae81ff">1</span>])
                driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#34;password&#34;</span>)<span style="color:#f92672">.</span>send_keys(d[<span style="color:#ae81ff">2</span>])
                driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#34;repassword&#34;</span>)<span style="color:#f92672">.</span>send_keys(d[<span style="color:#ae81ff">3</span>])
                driver<span style="color:#f92672">.</span>find_element_by_link_text(<span style="color:#e6db74">&#34;立即注册&#34;</span>)<span style="color:#f92672">.</span>click()
                
                <span style="color:#75715e">#因为有一个中间页面的跳转，此处要强制等待一下，让他跳转过去</span>
                time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">2</span>)
                
                <span style="color:#75715e">#断言</span>
                <span style="color:#75715e">#expectUrl=&#34;http://localhost/verydows/index.php?c=user&amp;a=index&#34;</span>
                <span style="color:#75715e">#actualUrl=driver.current_url</span>
                
                expectValue<span style="color:#f92672">=</span>d[<span style="color:#ae81ff">4</span>]
                actualValue<span style="color:#f92672">=</span>driver<span style="color:#f92672">.</span>find_element_by_xpath(<span style="color:#e6db74">&#39;//....&#39;</span>)<span style="color:#f92672">.</span>text()
                
                <span style="color:#75715e">#if expectValue==actualValue:</span>
				<span style="color:#75715e">#	print(&#34;注册username反向测试用例通过&#34;)</span>
                <span style="color:#75715e">#else:</span>
                <span style="color:#75715e">#    print(&#34;注册username反向用例不通过&#34;)</span>
                self<span style="color:#f92672">.</span>assertEqual(expectValue,actualValue)
                
                <span style="color:#75715e">#关闭浏览器对象</span>
                driver<span style="color:#f92672">.</span>quit()
               
	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">tearDown</span>(self):
        <span style="color:#66d9ef">pass</span>
    
<span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    unittest<span style="color:#f92672">.</span>main()
                
</code></pre></div><p>电商系统/maintest.py</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#在此文件中调度测试用例执行</span>
<span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> HTMLTestRunner <span style="color:#f92672">import</span> HTMLTestRunner
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> time 

pathCase<span style="color:#f92672">=</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__)<span style="color:#f92672">+</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;/test_cases/&#34;</span>
pathReport<span style="color:#f92672">=</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__)<span style="color:#f92672">+</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;/test_cases/&#34;</span>

filename<span style="color:#f92672">=</span>time<span style="color:#f92672">.</span>strname(<span style="color:#e6db74">&#34;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">-%H-%M-%S&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;.html&#34;</span>
filename<span style="color:#f92672">=</span>pathReport<span style="color:#f92672">+</span>filename
discover <span style="color:#f92672">=</span> unittest<span style="color:#f92672">.</span>defaultTestLoader<span style="color:#f92672">.</span>discover(path,pattern<span style="color:#f92672">=</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;verydows*.py&#34;</span>) 	
<span style="color:#66d9ef">with</span> open(filename,<span style="color:#e6db74">&#34;wb&#34;</span>) <span style="color:#66d9ef">as</span> f:
	runner<span style="color:#f92672">=</span>unittest<span style="color:#f92672">.</span>HTMLTestRunner(f,verbosity<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;自动化测试用例报告&#34;</span>,description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;XX&#34;</span>)
	runner<span style="color:#f92672">.</span>run(discover)
</code></pre></div><h2 id="unittest下的数据驱动测试">Unittest下的数据驱动测试</h2>
<p>数据存储</p>
<blockquote>
<p>测试脚本与测试数据分离</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613756103321.png" alt="1613756103321"></p>
<p>不导入ddt模块，字典只会形成一条测试用例</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613756685341.png" alt="1613756685341"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613756748533.png" alt="1613756748533"></p>
<h4 id="excel">excel</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613756844713.png" alt="1613756844713"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613756873832.png" alt="1613756873832"></p>
<p>xldr</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613757056609.png" alt="1613757056609"></p>
<p>excelutil.py</p>
<p><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn3/Unitest-framework/1613757341191.png" alt="1613757341191"></p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://kayleh.top">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://kayleh.top/js/github-style.js"></script>



</html>