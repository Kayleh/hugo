<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Kayleh">
  
  
  
  <link rel="prev" href="https://kayleh.top/c-prime-plus/" />
  <link rel="next" href="https://kayleh.top/j2se/" />
  <link rel="canonical" href="https://kayleh.top/linux/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  
  <script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/9e961453.js","daovoice")</script>
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Linux | Kayleh
       
  </title>
  <meta name="title" content="Linux | Kayleh">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/kayleh.top"
    },
    "articleSection" : "posts",
    "name" : "Linux",
    "headline" : "Linux",
    "description" : "\u003ch2 id=\u0022虚拟机\u0022\u003e虚拟机\u003c\/h2\u003e",
    "inLanguage" : "en-us",
    "author" : "Kayleh",
    "creator" : "Kayleh",
    "publisher": "Kayleh",
    "accountablePerson" : "Kayleh",
    "copyrightHolder" : "Kayleh",
    "copyrightYear" : "2020",
    "datePublished": "2020-07-02 21:26:15 \u002b0800 CST",
    "dateModified" : "2020-07-02 21:26:15 \u002b0800 CST",
    "url" : "https:\/\/kayleh.top\/linux\/",
    "wordCount" : "2664",
    "keywords" : [ "linux", "Kayleh"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="shell.kayleh.top" title="">Terminal</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kayleh.top">Kayleh</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="shell.kayleh.top" title="">Terminal</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Linux</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://kayleh.top" rel="author">Kayleh</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-07-02 itemprop="datePublished">July 2, 2020</time>
                </span>
                in
                
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <h2 id="虚拟机">虚拟机</h2>
<p>下载中文支持</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593837102375.png" alt="1593837102375"></p>
<p>网络连接的三种形式</p>
<p><strong>桥连接</strong>：Linux可以和其他系统通信，但是会造成IP冲突</p>
<p><strong>NAT</strong>：网络地址转换方式，Linux可以访问外网，不会造成IP冲突</p>
<p><strong>主机模式</strong>：你的Linux是一个独立的主机，不能访问外网</p>
<p>分区：</p>
<p>boot分区：200M</p>
<p>swap分区：交换分区，虚拟内存，没有挂载点，2048M</p>
<p>根分区/：使用全部剩余空间</p>
<p>安装VMTool复制到/opt下</p>
<p>tar -zxvf VM&hellip;&hellip; .tar.gz</p>
<p>解压,进去文件夹，执行 /vmware-install.pl</p>
<p>设置共享文件夹，在/mnt/hgfs下</p>
<p>Linux文件系统采用的是级层式的树状结构，最上层的是根目录“/”。</p>
<p>/bin 是Binary的缩写，这个目录存放着最经常使用的命令</p>
<p>/dev 管理设备</p>
<p>/etc管理配置文件</p>
<p>/home 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的</p>
<p>/lib 系统开机需要</p>
<p>/media dvd相关</p>
<p>/mnt 挂载文件夹</p>
<p>/opt 安装的软件</p>
<p>/proc 内核</p>
<p>/root 系统管理员，超级权限者的用户主目录</p>
<p>/sbin Super user系统管理员使用的系统管理程序</p>
<p>/selinux 安全加强</p>
<p>/sys 系统</p>
<p>/tmp 临时文件</p>
<p>/usr 用户，安装的程序</p>
<p>/var 变量，日志</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image004.png" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image0014.png" alt="img"></p>
<h3 id="远程登陆">远程登陆</h3>
<p>XShell</p>
<ul>
<li>需要Linux开启一个sshd服务22</li>
</ul>
<p>终端打开setup，打开系统服务，找到sshd，空格键打开服务。tab键退出。</p>
<p>该服务会监听22端口。</p>
<p><strong>ubuntu方法：</strong></p>
<p>先试着开启SSH服务</p>
<p>在使用SSH之前，可以先检查SSH服务有没有开启。使用命令：sudo ps -e | grep ssh来查看，如果返回的结果是“xxxx? 00:00:00 sshd”,代表服务开启。那个四个x代表四位数字，每台机数字不一样的，如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110064124048-505138018.png" alt="img"></p>
<p>如果没有反应或者其他结果，再试着开启SSH服务。使用命令sudo /etc/init.d/ssh start来开启服务，如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110064515920-1613146923.png" alt="img"></p>
<p>如果是图中结果，说明没有安装SSH服务，此时需要安装 SSH服务，为了能提高安装成功率，建议先更新源：sudo apt-get update更新安装源，如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110065024263-2090018697.png" alt="img"></p>
<p>然后安装SSH服务，使用命令：sudo apt-get install openssh-server。如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110065349975-237913277.png" alt="img"></p>
<p>等待安装结束即可。然后再次查看服务有没有启动：sudo ps -e | grep ssh：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110065558878-1157322075.png" alt="img"></p>
<p>有sshd那个东西，说明服务启动了，如果需要再次确认或者没有图中的结果，使用命令来启动:sudo /etc/init.d/ssh start:</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110065759521-304903884.png" alt="img"></p>
<p>看到服务starting了，服务成功开启。另外，还有几条命令需要记住：</p>
<p>sudo service ssh status 查看服务状态：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/894368-20181110070229962-1792308008.png" alt="img"></p>
<p>sudo service ssh stop 关闭服务：</p>
<p>sudo service ssh restart 重启服务</p>
<p>Xshell新建会话，先查看linux的ip地址。</p>
<pre><code>ipconfig
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593769665771.png" alt="1593769665771"></p>
<p>箭头指向的是ip地址。</p>
<p>填写到xshell</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593769808715.png" alt="1593769808715"></p>
<p>Ubuntu需要配置sshd服务</p>
<p>输入Linux的用户名和密码。成功连接。</p>
<p>如果远程使用命令：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">reboot
</code></pre></div><p>服务器也会重启</p>
<h3 id="文件的上传下载xftp">文件的上传下载XFTP</h3>
<p>协议选择SFTP</p>
<p>端口号选择22</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593782048647.png" alt="1593782048647"></p>
<p><strong>乱码解决</strong>：<img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593782224041.png" alt="1593782224041"></p>
<p>选择要传输的文件，右键传输就可以了。</p>
<h3 id="vi和vim编辑器">Vi和Vim编辑器</h3>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/078207F0-B204-4464-AAEF-982F45EDDAE9.jpg" alt="img"></p>
<h4 id="正常模式">正常模式</h4>
<p>在正常模式下，我们可以使用快捷键。</p>
<p>以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、贴上』来处理你的文件数据。</p>
<h4 id="插入模式编辑模式">插入模式/编辑模式</h4>
<p>在模式下，程序员可以输入内容。</p>
<p>按下 i, I 等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可</p>
<h4 id="命令行模式">命令行模式</h4>
<p>在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动作则是在此模式中达成的！</p>
<h4 id="各模式之间的互相转换">各模式之间的互相转换</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593783036444.png" alt="1593783036444"></p>
<h4 id="快捷键的使用案例">快捷键的使用案例</h4>
<ol>
<li>
<p>拷贝当前行   yy , 拷贝当前行向下的 5 行 5yy，并粘贴（p）。</p>
</li>
<li>
<p>删除当前行  dd  , 删除当前行向下的 5 行 5dd</p>
</li>
<li>
<p>在文件中查找某个单词  [命令行下  /关键字  ， 回车  查找  ,    输入 n 就是查找下一个 ],查询</p>
</li>
</ol>
<p>hello.</p>
<ol start="4">
<li>
<p>设置文件的行号，取消文件的行号.[命令行下  : set nu 和  :set nonu]</p>
</li>
<li>
<p>编辑 /etc/profile 文件，使用快捷键到底文档的最末行[G]和最首行[gg],注意这些都是在正常模式下执行的。</p>
</li>
<li>
<p>在一个文件中输入  &ldquo;hello&rdquo; ,然后又撤销这个动作，再正常模式下输入 u</p>
</li>
<li>
<p>编辑  /etc/profile 文件，并将光标移动到  第 20 行  shift+g</p>
</li>
</ol>
<p>第一步：显示行号 :set nu</p>
<p>第二步：输入 20 这个数</p>
<p>第三步: 输入 shift+g</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/vi-vim-cheat-sheet-sch.gif" alt="img"></p>
<h3 id="关机重启命令">关机&amp;重启命令</h3>
<h4 id="基本介绍">基本介绍</h4>
<p>shutdown</p>
<p>shutdown -h now : 表示立即关机</p>
<p>shutdown -h 1 : 表示 1 分钟后关机</p>
<p>shutdown -r now: 立即重启</p>
<p>halt</p>
<p>就是直接使用，效果等价于关机</p>
<p>reboot</p>
<p>就是重启系统。</p>
<p>sync：  把内存的数据同步到磁盘</p>
<h4 id="注意细节">注意细节</h4>
<p>当我们关机或者重启时，都应该先执行以下 sync 指令，把内存的数据写入磁盘，防止数据丢失。</p>
<h3 id="用户登录和注销">用户登录和注销</h3>
<ol>
<li>
<p>登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份.</p>
</li>
<li>
<p>在提示符下输入 logout 即可注销用户</p>
</li>
</ol>
<h4 id="使用细节">使用细节</h4>
<p>1)logout 注销指令在图形运行级别无效，在 运行级别 3 下有效.</p>
<h3 id="用户管理">用户管理</h3>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image003.gif" alt="img"></p>
<p><strong>说明</strong></p>
<p>Linux 系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号</p>
<h4 id="添加用户">添加用户</h4>
<h5 id="基本语法">基本语法</h5>
<p>useradd  [选项]  用户名</p>
<ol>
<li>
<p>当创建用户成功后，会自动的创建和用户同名的家目录</p>
</li>
<li>
<p>也可以通过  useradd -d 指定目录   新的用户名，给新创建的用户指定家目录</p>
</li>
</ol>
<h4 id="设置密码"><strong>设置密码</strong></h4>
<p>基本语法</p>
<p>passwd  用户名</p>
<h4 id="删除用户">删除用户</h4>
<h5 id="基本语法-1">基本语法</h5>
<p>userdel  用户名</p>
<ol>
<li>
<pre><code>  删除用户 xm，但是要保留家目录
</code></pre>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">userdel xm
</code></pre></div><ol start="2">
<li>删除用户 xh 以及用户主目录</li>
</ol>
<pre><code>userdel xh -r
</code></pre><p><strong>在删除用户时，我们一般不会将家目录删除。</strong></p>
<h4 id="查询用户信息">查询用户信息</h4>
<h5 id="基本语法-2">基本语法</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">id  用户名
uid<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span> gid<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span>  组<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span>
 |           |            |
 V           V            V
用户id号   所在组的id号    组名 
</code></pre></div><h4 id="切换用户">切换用户</h4>
<p>在操作 Linux 中，如果当前用户的权限不够，可以通过 su - 指令，切换到高权限用户，比如 root</p>
<p><strong>基本语法</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">su	–	切换用户名
//高权限用户向低权限用户不需要密码
exit   //可以回到原来的用户
</code></pre></div><p>1)从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。</p>
<p>2)当需要返回到原来用户时，使用 exit 指令</p>
<pre><code>whoami  //查看当前用户
</code></pre><h4 id="用户组">用户组</h4>
<p>类似于角色，系统可以对有共性的多个用户进行统一的管理。</p>
<p><strong>增加组</strong></p>
<p>groupadd 组 名</p>
<p><strong>删除组</strong></p>
<p>groupdel 组 名</p>
<p><strong>增加用户时直接加上组</strong></p>
<p>useradd  -g 用户组 用户名</p>
<p><strong>修改用户的组</strong></p>
<p>usermod  -g 用户组 用户名</p>
<h4 id="用户和组的相关文件"><strong>用户和组的相关文件</strong></h4>
<p><strong>/etc/passwd 文件</strong></p>
<p>用户（user）的配置文件，记录用户的各种信息</p>
<p>每行的含义：</p>
<p>用户名 : 口令 : 用户标识号 : 组标识号 : 注释性描述 : 主目录 : 登录 Shell</p>
<p><strong>/etc/shadow 文件</strong></p>
<p>口令的配置文件
每行的含义：</p>
<p>登录名 : 加密口令 : 最后一次修改时间 : 最小时间间隔 : 最大时间间隔 : 警告时间 : 不活动时间 : 失效时间 : 标志</p>
<p><strong>/etc/group 文件</strong>
组(group)的配置文件，记录 Linux 包含的组的信息每行含义：</p>
<p>组名:口令:组标识号:组内用户列表</p>
<h3 id="运行级别">运行级别</h3>
<p>运行级别说明：
0：关机
1：单用户【找回丢失密码】
2：多用户状态没有网络服务
3：多用户状态有网络服务
4：系统未使用保留给用户
5：图形界面
6：系统重启</p>
<p>常用运行级别是 3 和 5 ，要修改默认的运行级别可改文件</p>
<p>/etc/inittab 的   <code>id:5:initdefault:</code>   这一行中的数字</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593838451860.png" alt="1593838451860"></p>
<h4 id="指定运行级别">指定运行级别</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image001.gif" alt="img"></p>
<p>init [012356]</p>
<p>int   3</p>
<p>init [012356]</p>
<h5 id="如何找回-root-密码">如何找回 root 密码</h5>
<p>进入到 单用户模式，然后修改 root 密码。因为进入单用户模式，root 不需要密码就可以登录。</p>
<p>开机在引导期间使用enter进入页面，按e进入选择第二行的内核kenral再按e进入，输入1告诉内核进入单用户模式，再按回车回去上一级按b启动。</p>
<p>启动后使用passwd root就可以重置密码了。reboot重启。</p>
<h3 id="获得帮助信息">获得帮助信息</h3>
<h4 id="man">man</h4>
<p>man [命令或配置文件]（功能描述：获得帮助信息）</p>
<p>man  ls</p>
<h4 id="help-指令">help 指令</h4>
<p>help 命令 （功能描述：获得 shell 内置命令的帮助信息）</p>
<p>help cd</p>
<h3 id="文件目录类">文件目录类</h3>
<h4 id="pwd-指令">pwd 指令</h4>
<p>pwd   (功能描述：显示当前工作目录的绝对路径)</p>
<h4 id="ls-指令">ls 指令</h4>
<p>ls [ 选 项] [目录或是文件]</p>
<h4 id="cd-指令">cd 指令</h4>
<p>cd .当前目录(不变)</p>
<p>cd  [参数] (功能描述：切换到指定目录)</p>
<p>cd ~ 或者 cd ：回到自己的家目录</p>
<p>cd .. 回到当前目录的上一级目录</p>
<p>cd   /root  使用绝对路径切换到 root 目录</p>
<p>cd  ../../root    使用相对路径到/root 目录</p>
<h4 id="mkdir-指令">mkdir 指令</h4>
<p>mkdir 指令用于创建目录(make directory)</p>
<p>mkdir  [选项]  要创建的目录</p>
<p>-p ：创建多级目录</p>
<pre><code>mkdir -p /aaa/bbb/ccc
</code></pre><h4 id="rmdir-指令">rmdir 指令</h4>
<p>rmdir 指令删除空目录</p>
<p>rmdir  [选项]  要删除的空目录</p>
<p><code>rmdir </code>删除的是空目录，如果目录下有内容时无法删除的。
提示：如果需要删除非空目录，需要使用<code>rm -rf </code>要删除的目录</p>
<h4 id="touch-指令">touch 指令</h4>
<p>touch 指令创建空文件</p>
<p>touch 文件名称</p>
<h4 id="cp-指令">cp 指令[*]</h4>
<p>cp 指令拷贝文件到指定目录</p>
<p>cp [选项] source dest</p>
<p>-r ：递归复制整个文件夹</p>
<p>cp -r  源目录  目标目录</p>
<h4 id="rm-指令">rm 指令</h4>
<p>rm 指令移除【删除】文件或目录</p>
<p>rm  [选项]  要删除的文件或目录</p>
<p>-r ：递归删除整个文件夹</p>
<p>-f ： 强制删除不提示</p>
<h4 id="mv-指令">mv 指令</h4>
<p>mv 移动文件与目录或重命名</p>
<p>mv  oldNameFile newNameFile 		(功能描述：重命名)</p>
<p>mv /temp/movefile /targetFolder	 (功能描述：移动文件)</p>
<h4 id="cat-指令">cat 指令</h4>
<p>cat 查看文件内容，是以只读的方式打开。</p>
<p>cat  [选项] 要查看的文件</p>
<p>-n ：显示行号</p>
<p>cat 只能浏览文件，而不能修改文件，为了浏览方便，一般会带上  管道命令 | more</p>
<p>cat 文件名 | more [分页浏览]</p>
<h4 id="more-指令">more 指令</h4>
<p>more 指令是一个基于 VI 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容</p>
<p>快捷键：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593843318484.png" alt="1593843318484"></p>
<h4 id="less-指令">less 指令</h4>
<p>less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是比 more 指令更加强大，支持各种显示终端。less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</p>
<pre><code>less 要查看的文件
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593843382522.png" alt="1593843382522"></p>
<h4 id="-指令-和--指令">&gt; 指令 和 &raquo; 指令</h4>
<p>&gt; 输出重定向 : 会将原来的文件的内容覆盖</p>
<p>&gt;&gt; 追加： 不会覆盖原来文件的内容，而是追加到文件的尾部。</p>
<pre><code>ls -l &gt;文件    		（功能描述：列表的内容写入文件 a.txt 中（覆盖写））
ls -al &gt;&gt;文件			（功能描述：列表的内容追加到文件 aa.txt 的末尾）
cat 文件 1 &gt; 文件 2		（功能描述：将文件 1 的内容覆盖到文件 2）
cal &gt;&gt; /home/mycal		将当前日历信息  追加到 /home/mycal 文件中 [提示 cal ]  
</code></pre><h4 id="echo-指令">echo 指令</h4>
<p>echo 输出内容到控制台。</p>
<p>echo  [选项]  [输出内容]</p>
<pre><code>echo $PATH   使用 echo 指令输出环境变量,输出当前的环境路径。
</code></pre><h4 id="head-指令">head 指令</h4>
<p>head 用于显示文件的开头部分内容，默认情况下 head 指令显示文件的前 10 行内容</p>
<pre><code>head  文件	(功能描述：查看文件头 10 行内容)
head -n 5 文件	(功能描述：查看文件头 5 行内容，5 可以是任意行数)
</code></pre><h4 id="tail-指令">tail 指令</h4>
<p>tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</p>
<pre><code>tail 文件			（功能描述：查看文件后 10 行内容）
tail -n 5 文件  	（功能描述：查看文件后 5 行内容，5 可以是任意行数）
tail -f	文件		（功能描述：实时追踪该文档的所有更新，工作经常使用）
</code></pre><h4 id="ln-指令">ln 指令</h4>
<p>软链接也叫符号链接，类似于 windows 里的快捷方式，主要存放了链接其他文件的路径</p>
<pre><code>ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）
ln -s /root linkToRoot		在/home 目录下创建一个软连接 linkToRoot，连接到 /root 目录
rm -rf  linkToRoot          删除软连接
ln 硬链接 
##软链接可以跨文件系统，硬链接不可以；软链接可以对一个不存在的文件名（filename）进行链接（当然此时如果你vi这个软链接文件，linux会自动新建一个文件名为filename的文件），硬链接不可以（其文件必须存在，inode必须存在）；软链接可以对目录进行连接，硬链接不可以。两种链接都可以通过命令 ln 来创建。ln 默认创建的是硬链接。使用 -s 开关可以创建软链接。
</code></pre><p>当我们使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。</p>
<h4 id="history-指令">history 指令</h4>
<p>查看已经执行过历史命令,也可以执行历史指令</p>
<pre><code>history    （功能描述：查看已经执行过历史命令）
history 10 	显示最近使用过的 10 个指令。
!10   		执行编号为10的指令
</code></pre><h3 id="时间日期类">时间日期类</h3>
<h4 id="date-指令-显示当前日期">date 指令-显示当前日期</h4>
<pre><code>1) date		（功能描述：显示当前时间）
2) date +%Y （功能描述：显示当前年份）
3) date +%m	（功能描述：显示当前月份）
4) date +%d	（功能描述：显示当前是哪一天）
5) date &quot;+%Y-%m-%d %H:%M:%S&quot;（功能描述：显示年月日时分秒）
</code></pre><h4 id="date-指令-设置日期">date 指令-设置日期</h4>
<pre><code>date -s	字符串时间

设置系统当前时间 ， 比如设置成 2018-10-10 11:22:22
date -s &quot;2018-10-10 11:22:22&quot;
</code></pre><h4 id="查看日历指令">查看日历指令</h4>
<pre><code>cal [选项]    （功能描述：不加选项，显示本月日历）
cal
cal 2021
</code></pre><h3 id="搜索查找类">搜索查找类</h3>
<h4 id="find-指令">find 指令</h4>
<p>find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端</p>
<p>find  [搜索范围]  [选项]</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593844669367.png" alt="1593844669367"></p>
<pre><code>按文件名：根据名称查找/home 目录下的 hello.txt 文件
find /home -name hello.txt

按拥有者：查找/opt 目录下，用户名称为 nobody 的文件
find /opt -user nobody

查找整个 linux 系统下大于 20m 的文件（+n  大于	-n 小于	n 等于）
find / -size +20M
find / -size +20480K

查询	/ 目录下，所有 .txt 的文件
find / -name *.txt
</code></pre><h4 id="locate-指令">locate 指令</h4>
<p>locaate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的locate 数据库实现快速定位给定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locate 时刻。</p>
<pre><code>updatedb 
locate 搜索文件 
</code></pre><p>由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</p>
<h4 id="grep-指令和-管道符号-">grep 指令和 管道符号 |</h4>
<p>grep 过滤查找 ， 管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。</p>
<pre><code>grep [选项] 查找内容 源文件
</code></pre><p>-n 显示匹配行及行号</p>
<p>-i 忽略字母大小写</p>
<pre><code>请在  hello.txt  文件中，查找	&quot;yes&quot;	所在行，并且显示行号
cat hello.txt | grep -n yes
</code></pre><h3 id="压缩和解压类">压缩和解压类</h3>
<h4 id="gzipgunzip-指令">gzip/gunzip 指令</h4>
<p>gzip 用于压缩文件， gunzip 用于解压的</p>
<p>gzip 文件   （功能描述：压缩文件，只能将文件压缩为*.gz 文件）</p>
<p>gunzip 文 件.gz  （功能描述：解压缩文件命令）</p>
<pre><code>gzip 压缩， 将 /home 下的 hello.txt 文件进行压缩
gzip  hello.txt

gunzip 压缩， 将 /home 下的 hello.txt.gz 文件进行解压缩
gunzip  hello.txt.gz
</code></pre><p>当我们使用 gzip 对文件进行压缩后，不会保留原来的文件。</p>
<h4 id="zipunzip-指令">zip/unzip 指令</h4>
<p>zip 用于压缩文件， unzip 用于解压的，这个在项目打包发布中很有用的</p>
<pre><code>zip		[选项] XXX.zip	 将要压缩的内容（功能描述：压缩文件和目录的命令）
unzip	[选项] XXX.zip 	（功能描述：解压缩文件）
</code></pre><p>zip  -r：递归压缩，即压缩目录</p>
<p>unzip   -d&lt;目录&gt; ：指定解压后文件的存放目录</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">将 /home 下的 所有文件进行压缩成 mypackage.zip
zip -r mypackage.zip /home/

将 mypackge.zip 解压到 /opt/tmp 目录下
unzip -d /opt/tmp/ mypackage.zip
</code></pre></div><h4 id="tar-指令">tar 指令</h4>
<p>tar 指令 是打包指令，最后打包后的文件是 .tar.gz 的文件。</p>
<pre><code>tar	[选项]	XXX.tar.gz	打包的内容	(功能描述：打包目录，压缩后的文件格式.tar.gz)
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593845537786.png" alt="1593845537786"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">压缩多个文件，将  /home/a1.txt 和  /home/a2.txt 压缩成 a.tar.gz
tar -zcvf a.tar.gz  a1.txt a2.txt

将/home 的文件夹 压缩成 myhome.tar.gz
tar -zcvf myhome.tar.gz /home/

将  a.tar.gz	解压到当前目录
tar -zxvf a.tar.gz

将 myhome.tar.gz	解压到 /opt/ 目录下
<span style="color:#75715e">#指定解压到的那个目录，事先要存在才能成功，否则会报错。</span>
tar -zxvf myhome.tar.gz -C /opt/
</code></pre></div><h3 id="组管理和权限管理">组管理和权限管理</h3>
<h4 id="linux-组基本介绍">Linux 组基本介绍</h4>
<p>在 linux 中的每个用户必须属于一个组，不能独立于组外。在 linux 中每个文件有所有者、所在组、其它组的概念。</p>
<ol>
<li>所有者</li>
<li>所在组</li>
<li>其它组</li>
<li>改变用户所在的组</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593864434878.png" alt="1593864434878"></p>
<h4 id="文件目录-所有者">文件/目录 所有者</h4>
<p>一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者。</p>
<h3 id="查看文件的所有者">查看文件的所有者</h3>
<p>指令：ls  -ahl</p>
<p>创建一个组 police,再创建一个用户 tom,将 tom 放在 police 组 ,然后使用 tom 来创建一个文件 ok.txt</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593864576338.png" alt="1593864576338"></p>
<p>所有者👆</p>
<h4 id="修改文件所有者">修改文件所有者</h4>
<p>指令：chown 用户名 文件名</p>
<p>使用 root 创建一个文件 apple.txt ，然后将其所有者修改成 tom</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593864639589.png" alt="1593864639589"></p>
<h4 id="组的创建">组的创建</h4>
<p>groupadd 组 名</p>
<p>创建一个组, ,monster</p>
<p>创建一个用户  fox ，并放入到 monster 组中</p>
<pre><code>groupadd monster
useradd -g monster fox
id fox //查看
</code></pre><h4 id="文件目录-所在组">文件/目录 所在组</h4>
<p>当某个用户创建了一个文件后，默认这个文件的所在组就是该用户所在的组。</p>
<h4 id="查看文件目录所在组">查看文件/目录所在组</h4>
<p>ls –ahl</p>
<h4 id="修改文件所在的组">修改文件所在的组</h4>
<p>chgrp 组名 文件名</p>
<p>使用 root 用户创建文件 orange.txt ,看看当前这个文件属于哪个组，然后将这个文件所在组，修改到 police 组 。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593865387296.png" alt="1593865387296"></p>
<h4 id="其它组">其它组</h4>
<p>除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组.</p>
<h4 id="改变用户所在组">改变用户所在组</h4>
<p>在添加用户时，可以指定将该用户添加到哪个组中，同样的用 root 的管理权限可以改变某个用户所在的组。</p>
<pre><code>usermod   –g    组名  用户名
usermod –d  目录名 用户名  改变该用户  
</code></pre><p>创建一个土匪组（bandit）将 tom 这个用户从原来所在的 police 组，修改到 bandit(土匪) 组</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593865717951.png" alt="1593865717951"></p>
<h3 id="权限的基本介绍">权限的基本介绍</h3>
<p>ls  -l 中显示的内容如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">-rwxrw-r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">1213</span> Feb <span style="color:#ae81ff">2</span> 09:39 abc
</code></pre></div><p>0-9 位说明</p>
<p>1)第 0 位确定文件类型(d, - , l , c , b)</p>
<p>2)第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。&mdash;User</p>
<p>3)第 4-6 位确定所属组（同用户组的）拥有该文件的权限，&mdash;Group</p>
<p>4)第 7-9 位确定其他用户拥有该文件的权限 &mdash;Other</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593865847037.png" alt="1593865847037"></p>
<h3 id="rwx权限详解">rwx权限详解</h3>
<h4 id="rwx作用到文件">rwx作用到文件</h4>
<ol>
<li>
<p>[ r ]代表可读(read): 可以读取,查看</p>
</li>
<li>
<p>[ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.</p>
</li>
<li>
<p>[ x ]代表可执行(execute):可以被执行</p>
</li>
</ol>
<h4 id="rwx作用到目录">rwx作用到目录</h4>
<ol>
<li>
<p>[ r ]代表可读(read): 可以读取，ls 查看目录内容</p>
</li>
<li>
<p>[ w ]代表可写(write): 可以修改,目录内创建+删除+重命名目录</p>
</li>
<li>
<p>[ x ]代表可执行(execute):可以进入该目录</p>
</li>
</ol>
<h3 id="文件及目录权限实际案例">文件及目录权限实际案例</h3>
<p>ls  -l 中显示的内容如下：</p>
<p>-rwxrw-r&ndash; 1 root root 1213 Feb 2 09:39 abc</p>
<p>10 个字符确定不同用户能对文件干什么</p>
<p>第一个字符代表文件类型： 文件 (-),目录(d),链接(l)
其余字符每 3 个一组(rwx) 读(r) 写(w) 执行(x)
第一组 rwx : 文件拥有者的权限是读、写和执行
第二组 rw- :  与文件拥有者同一组的用户的权限是读、写但不能执行</p>
<p>第三组 r&ndash; :	不与文件拥有者同组的其他用户的权限是读不能写和执行</p>
<p>可用数字表示为: r=4,w=2,x=1  因此 rwx=4+2+1=7</p>
<table>
<thead>
<tr>
<th><strong>1</strong></th>
<th><strong>文件：硬连接数或	目录：子目录数</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>root</strong></td>
<td><strong>用户</strong></td>
</tr>
<tr>
<td><strong>root</strong></td>
<td><strong>组</strong></td>
</tr>
<tr>
<td><strong>1213</strong></td>
<td><strong>文件大小(字节)，如果是文件夹，显示 4096 字节</strong></td>
</tr>
<tr>
<td><strong>Feb 2 09:39</strong></td>
<td><strong>最后修改日期</strong></td>
</tr>
<tr>
<td><strong>abc</strong></td>
<td><strong>文件名</strong></td>
</tr>
</tbody>
</table>
<p>​</p>
<h4 id="修改权限-chmod">修改权限-chmod</h4>
<p>通过 chmod 指令，可以修改文件或者目录的权限</p>
<h4 id="第一种方式---变更权限">第一种方式：+ 、-、= 变更权限</h4>
<p>u:所有者  g:所有组  o:其他人  a:所有人(u、g、o 的总和)</p>
<ol>
<li>
<p>chmod   u=rwx,g=rx,o=x   文件目录名</p>
</li>
<li>
<p>chmod   o+w    文件目录名</p>
</li>
<li>
<p>chmod   a-x    文件目录名</p>
</li>
</ol>
<p>给 abc 文件 的所有者读写执行的权限，给所在组读执行权限，给其它组读执行权限。
<img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866461439.png" alt="1593866461439"></p>
<p>给 abc 文件的所有者除去执行的权限，增加组写的权限</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866504885.png" alt="1593866504885"></p>
<p>给 abc 文件的所有用户添加读的权限</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866558942.png" alt="1593866558942"></p>
<h4 id="第二种方式通过数字变更权限">第二种方式：通过数字变更权限</h4>
<p>规则：r=4 w=2 x=1,rwx=4+2+1=7</p>
<p>chmod u=rwx,g=rx,o=x    文件目录名</p>
<p>相当于  chmod  751	文件目录名</p>
<p>将  /home/abc.txt    文件的权限修改成	rwxr-xr-x, 使用给数字的方式实现：</p>
<p>rwx = 4+2+1 = 7</p>
<p>r-x = 4+1=5</p>
<p>r-x = 4+1 =5</p>
<p>指令：chmod 755 /home/abc.txt</p>
<h4 id="修改文件所有者-chown">修改文件所有者-chown</h4>
<p>chown  newowner  file  						改变文件的所有者</p>
<p>chown newowner:newgroup file 	改变用户的所有者和所有组</p>
<p>-R                       如果是目录 则使其下所有子文件或目录递归生效</p>
<p>请将 /home/abc .txt 文件的所有者修改成 tom</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866819855.png" alt="1593866819855"></p>
<p>请将 /home/kkk 目录下所有的文件和目录的所有者都修改成 tom</p>
<p>首选我们应该使用 root 操作。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866872283.png" alt="1593866872283"></p>
<h4 id="修改文件所在组-chgrp">修改文件所在组-chgrp</h4>
<p>chgrp newgroup file  改变文件的所有组</p>
<ol>
<li>请将 /home/abc .txt 文件的所在组修改成 bandit (土匪)</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chgrp bandit /home/abc.txt
</code></pre></div><ol start="2">
<li>请将 /home/kkk 目录下所有的文件和目录的所在组都修改成 bandit(土匪)</li>
</ol>
<pre><code>chgrp -R bandit /home/kkk
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593866984875.png" alt="1593866984875"></p>
<h3 id="最佳实践-警察和土匪游戏">最佳实践-警察和土匪游戏</h3>
<p>police警察     bandit土匪</p>
<p>jack, jerry: 警 察</p>
<p>xh, xq: 土 匪</p>
<p>(1)  创建组</p>
<p>bash&gt; groupadd police</p>
<p>bash&gt; groupadd bandit</p>
<p>(2)  创建用户</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867122713.png" alt="1593867122713"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867129607.png" alt="1593867129607"></p>
<p>(3)    jack 创建一个文件，自己可以读写，本组人可以读，其它组没人任何权限</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867173773.png" alt="1593867173773"></p>
<p>(4)   jack 修改该文件，让其它组人可以读, 本组人可以读写</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867219396.png" alt="1593867219396"></p>
<p>(5)   xh 投靠 警察，看看是否可以读写.</p>
<p>先用 root 修改 xh 的组 ：</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867266232.png" alt="1593867266232"></p>
<p>使用 jack 给他的家目录 /home/jack 的所在组一个 rx 的权限</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867293834.png" alt="1593867293834"></p>
<p>xh 需要重新注销在到 jack 目录就可以操作    jack 的文件</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593867344404.png" alt="1593867344404"></p>
<h2 id="crond-任务调度">crond 任务调度</h2>
<h3 id="原理">原理</h3>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593948751281.png" alt="1593948751281"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593948778770.png" alt="1593948778770"></p>
<p><strong>crontab  进行 定时任务的设置</strong></p>
<p><strong>任务调度</strong>：是指系统在某个时间执行的特定的命令或程序。</p>
<p>任务调度分类：</p>
<p>1.系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等</p>
<p>2.个别用户工作：个别用户可能希望执行某些程序，比如对 mysql 数据库的备份。</p>
<h4 id="基本语法-3">基本语法</h4>
<pre><code>crontab [选项]
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593948881827.png" alt="1593948881827"></p>
<h4 id="要求">要求</h4>
<p>设置任务调度文件：/etc/crontab</p>
<p>设置个人任务调度。执行 crontab –e 命令。</p>
<p>接着输入任务到调度文件</p>
<p>如：*/1 * * * * ls –l   /etc/ &gt; /tmp/to.txt</p>
<p>意思说每小时的每分钟执行 ls –l /etc/ &gt; /tmp/to.txt 命令</p>
<h4 id="步骤如下">步骤如下</h4>
<ol>
<li>
<p>cron -e</p>
</li>
<li>
<p>*/ 1 * * * * ls -l /etc &raquo; /tmp/to.txt</p>
</li>
<li>
<p>当保存退出后就程序。</p>
</li>
<li>
<p>在每一分钟都会自动的调用 ls -l /etc &raquo; /tmp/to.txt</p>
</li>
</ol>
<h4 id="参数细节说明">参数细节说明</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593949018840.png" alt="1593949018840"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593949051397.png" alt="1593949051397"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593949079188.png" alt="1593949079188"></p>
<h5 id="案例-1每隔-1-分钟就将当前的日期信息追加到-tmpmydate-文件中"><strong>案例 1</strong>：每隔 1 分钟，就将当前的日期信息，追加到 /tmp/mydate 文件中</h5>
<ol>
<li>先编写一个文件 /home/mytask1.sh</li>
</ol>
<p>date &raquo; /tmp/mydate</p>
<ol start="2">
<li>给 mytask1.sh 一个可以执行权限</li>
</ol>
<p>chmod 744 /home/mytask1.sh</p>
<ol start="3">
<li>
<p>crontab -e</p>
</li>
<li>
<p>*/1 * * * *  /home/mytask1.sh</p>
</li>
<li>
<p>成功</p>
</li>
</ol>
<h5 id="案例-2每隔-1-分钟-将当前日期和日历都追加到-homemycal-文件中"><strong>案例 2</strong>：每隔 1 分钟， 将当前日期和日历都追加到 /home/mycal 文件中</h5>
<ol>
<li>先编写一个文件</li>
</ol>
<p>/home/mytask2.sh</p>
<p>date &raquo; /tmp/mycal</p>
<p>cal &raquo; /tmp/mycal</p>
<ol start="2">
<li>给 mytask1.sh 一个可以执行权限</li>
</ol>
<p>chmod 744 /home/mytask2.sh</p>
<ol start="3">
<li>
<p>crontab -e</p>
</li>
<li>
<p>*/1 * * * *  /home/mytask2.sh</p>
</li>
<li>
<p>成功</p>
</li>
</ol>
<h5 id="案例-3-----每天凌晨-200-将-mysql-数据库-testdb-备份到文件中mydbbak"><strong>案例 3:</strong>     每天凌晨 2:00 将 mysql 数据库 testdb ，备份到文件中mydb.bak。</h5>
<ol>
<li>先编写一个文件  /home/mytask3.sh</li>
</ol>
<p>/usr/local/mysql/bin/mysqldump -u root -proot testdb &gt; /tmp/mydb.bak</p>
<ol start="2">
<li>给 mytask3.sh 一个可以执行权限</li>
</ol>
<pre><code>chmod 744 /home/mytask3.sh
</code></pre><ol start="3">
<li></li>
</ol>
<pre><code>crontab -e
</code></pre><ol start="4">
<li></li>
</ol>
<pre><code>0 2 * * *  /home/mytask3.sh
</code></pre><ol start="5">
<li>成功</li>
</ol>
<h4 id="crond-相关指令">crond 相关指令:</h4>
<ol>
<li>
<p>conrtab –r：终止任务调度。</p>
</li>
<li>
<p>crontab –l：列出当前有那些任务调度</p>
</li>
<li>
<p>service crond restart   [重启任务调度]</p>
</li>
</ol>
<h2 id="linux-磁盘分区挂载">Linux 磁盘分区、挂载</h2>
<h3 id="分区基础知识">分区基础知识</h3>
<h5 id="windows-下的磁盘分区">windows 下的磁盘分区</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593951062587.png" alt="1593951062587"></p>
<h4 id="分区的方式">分区的方式：</h4>
<ol>
<li>mbr 分区:</li>
</ol>
<p>1.最多支持四个主分区</p>
<p>2.系统只能安装在主分区</p>
<p>3.扩展分区要占一个主分区</p>
<p>4.MBR 最大只支持 2TB，但拥有最好的兼容性</p>
<ol start="2">
<li>gtp 分区:</li>
</ol>
<p>1.支持无限多个主分区（但操作系统可能限制，比如 windows 下最多 128 个分区）</p>
<p>2.最大支持 18EB 的大容量（1EB=1024 PB，1PB=1024 TB ）</p>
<p>3.windows7 64 位以后支持</p>
<h4 id="windows-下的磁盘分区-1">windows 下的磁盘分区</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950528566.png" alt="1593950528566"></p>
<h3 id="linux-分区">Linux 分区</h3>
<h4 id="原理介绍">原理介绍</h4>
<p>1)Linux 来说无论有几个分区，分给哪一目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构 , Linux 中每个分区都是用来组成整个文件系统的一部分。</p>
<p>2)Linux 采用了一种叫“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录， 且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一个目录下获得。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950575312.png" alt="1593950575312"></p>
<h4 id="硬盘说明">硬盘说明</h4>
<p>1)Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘</p>
<p>2)对于 IDE 硬盘，驱动器标识符为“hdx~”,其中“hd”表明分区所在设备的类型，这里是指 IDE 硬盘了。“x”为盘号（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为辅助从属盘）,“~”代表分区，前四个分区用数字 1 到 4 表示，它们是主分区或扩展分区，从 5 开始就是逻辑分区。例，hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区,hdb2 表示为第二个 IDE 硬盘上的第二个主分区或扩展分区。</p>
<p>3)对于 SCSI 硬盘则标识为“sdx~”，SCSI 硬盘是用“sd”来表示分区所在设备的类型的，其余则和 IDE 硬盘的表示方法一样 .</p>
<h5 id="使用-lsblk-指令查看当前系统的分区情况">使用 lsblk 指令查看当前系统的分区情况</h5>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950651437.png" alt="1593950651437"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950681315.png" alt="1593950681315"></p>
<h4 id="挂载的经典案例">挂载的经典案例</h4>
<p>需求是给我们的 Linux 系统增加一个新的硬盘，并且挂载到/home/newdisk</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950721662.png" alt="1593950721662"></p>
<h3 id="如何增加一块硬盘">如何增加一块硬盘</h3>
<p>1)虚拟机添加硬盘</p>
<p>2)分区    fdisk         /dev/sdb</p>
<p>3)格式化 mkfs   -t    ext4    /dev/sdb1</p>
<p>4)挂载   先创建一个  /home/newdisk , 挂 载  mount     /dev/sdb1    /home/newdisk</p>
<p>5)设置可以自动挂载(永久挂载，当你重启系统，仍然可以挂载到 /home/newdisk) 。</p>
<p>vim   /etc/fstab</p>
<p>/dev/sdb1          /home/newdisk           ext4    defaults        0 0</p>
<h4 id="具体的操作步骤整理">具体的操作步骤整理</h4>
<h5 id="虚拟机增加硬盘步骤-1">虚拟机增加硬盘步骤 1</h5>
<p>在【虚拟机】菜单中，选择【设置】，然后设备列表里添加硬盘，然后一路【下一步】，中间只有选择磁盘大小的地方需要修改，至到完成。然后重启系统（才能识别）！</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593953351911.png" alt="1593953351911"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593953412730.png" alt="1593953412730"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593953444288.png" alt="1593953444288"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593953468858.png" alt="1593953468858"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593953495297.png" alt="1593953495297"></p>
<p>重启虚拟机reboot</p>
<p>重启后使用 lsblk -f</p>
<p>可以看见多了个sdb</p>
<h5 id="虚拟机增加硬盘步骤-2">虚拟机增加硬盘步骤 2</h5>
<p>使用分区命令</p>
<pre><code>  fdisk  /dev/sdb
</code></pre><p>开始对/sdb 分区</p>
<p>输入m可以看到帮助</p>
<p>m	显示命令列表</p>
<p>p	显示磁盘分区 同 fdisk –l</p>
<p>n	新增分区</p>
<p>d	删除分区</p>
<p>w	写入并退出</p>
<pre><code>输入n

显示  e  extended
	 p  primary partition(1-4)
选择p	 
</code></pre><p>说明： 开始分区后输入 n，新增分区，然后选择 p ，分区类型为主分区。两次回车默认剩余全部空间。最后输入 w 写入分区并退出，若不保存退出输入 q。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image005.jpg" alt="img"></p>
<h5 id="虚拟机增加硬盘步骤-3">虚拟机增加硬盘步骤 3</h5>
<p>格式化磁盘</p>
<p>分区命令:</p>
<pre><code>mkfs -t ext4  /dev/sdb1
</code></pre><p>其中 ext4 是分区类型</p>
<h5 id="虚拟机增加硬盘步骤-4">虚拟机增加硬盘步骤 4</h5>
<p><strong>挂载</strong>: 将一个分区与一个目录联系起来，</p>
<p>•mount     设备名称  挂载目录</p>
<p>•例如：  mount   /dev/sdb1   /home/newdisk</p>
<p>•umount   设备名称  或者 挂载目录</p>
<p>•例如：   umount   /dev/sdb1    或者   umount  /newdisk</p>
<h5 id="虚拟机增加硬盘步骤-5">虚拟机增加硬盘步骤 5</h5>
<p>vim   /etc/fstab</p>
<p>在UUID上面一行插入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/dev/sdb1     /home/newdisk     ext4  defaults  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>这句话可以使开机后能自动挂载</p>
<p>使用命令mount -a立即生效</p>
<p>永久挂载通过修改实现挂载添加完成后  执行 –即刻生效</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1593950964217.png" alt="1593950964217"></p>
<h3 id="磁盘情况查询">磁盘情况查询</h3>
<h4 id="查询系统整体磁盘使用情况">查询系统整体磁盘使用情况</h4>
<pre><code>df -h
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016323677.png" alt="1594016323677"></p>
<h4 id="查询指定目录的磁盘占用情况">查询指定目录的磁盘占用情况</h4>
<pre><code>du -h	/目录
</code></pre><p>查询指定目录的磁盘占用情况，默认为当前目录</p>
<pre><code>-s 指定目录占用大小汇总

-h 带计量单位

-a 含文件

--max-depth=1  子目录深度

-c 列出明细的同时，增加汇总值
</code></pre><h4 id="查询-opt-目录的磁盘占用情况深度为-1">查询 /opt 目录的磁盘占用情况，深度为 1</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016421875.png" alt="1594016421875"></p>
<h4 id="磁盘情况-工作实用指令">磁盘情况-工作实用指令</h4>
<ol>
<li>统计/home 文件夹下文件的个数</li>
</ol>
<pre><code>^-  表示以&quot;-&quot;打头的，表示文件
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016824199.png" alt="1594016824199"></p>
<ol start="2">
<li>统计/home 文件夹下目录的个数</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016885378.png" alt="1594016885378"></p>
<p>3)统计计/home 文件夹下文件的个数，包括子文件夹里的</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016923222.png" alt="1594016923222"></p>
<ol start="4">
<li>统计文件夹下目录的个数，包括子文件夹里的</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016946230.png" alt="1594016946230"></p>
<p>5)以树状显示目录结构</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594016968695.png" alt="1594016968695"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594017008507.png" alt="1594017008507"></p>
<h3 id="网络配置">网络配置</h3>
<p>Linux 网络配置原理图(含虚拟机)</p>
<p>目前我们的网络配置采用的是 NAT。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018740806.png" alt="1594018740806"></p>
<h4 id="查看网络-ip-和网关">查看网络 IP 和网关</h4>
<p>查看虚拟网络编辑器</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018794841.png" alt="1594018794841"></p>
<h4 id="修改-ip-地址修改虚拟网络的-ip">修改 ip 地址(修改虚拟网络的 ip)</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018819402.png" alt="1594018819402"></p>
<h4 id="查看网关">查看网关</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018857189.png" alt="1594018857189"></p>
<h4 id="查看-windows-环境的中-vmnet8-网络配置-ipconfig-指令">查看 windows 环境的中 VMnet8 网络配置 (ipconfig 指令)</h4>
<ol>
<li>
<p>使用 ipconfig 查看</p>
</li>
<li>
<p>界面查看</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018892385.png" alt="1594018892385"></p>
<h4 id="ping-测试主机之间网络连通">ping 测试主机之间网络连通</h4>
<p>ping  目的主机 （功能描述：测试当前服务器是否可以连接目的主机）</p>
<p><strong>测试当前服务器是否可以连接百度</strong></p>
<p>[root@hadoop100 桌面]# ping <a href="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/http://www.baidu.com/">www.baidu.com</a></p>
<h4 id="linux-网络环境配置">linux 网络环境配置</h4>
<p><strong>第一种方法(自动获取)</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594018974152.png" alt="1594018974152"></p>
<p>缺点: linux 启动后会自动获取 IP,缺点是每次自动获取的 ip 地址可能不一样。这个不适用于做服务器，因为我们的服务器的 ip 需要时固定的。</p>
<p><strong>第二种方法(指定固定的 ip)</strong></p>
<p>直 接 修 改 配 置 文 件 来 指 定 IP, 并 可 以 连 接 到 外 网 ( 程 序 员 推 荐 ) ， 编 辑                                                                     vi      /etc/sysconfig/network-scripts/ifcfg-eth0</p>
<p>要求：将 ip 地址配置的静态的，ip 地址为 192.168.184.130</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594019066944.png" alt="1594019066944"></p>
<p>修改后，一定要 重启服务</p>
<ol>
<li>
<p>service network restart</p>
</li>
<li>
<p>reboot 重启系统</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594019131820.png" alt="1594019131820"></p>
<h2 id="进程管理">进程管理</h2>
<h4 id="进程的基本介绍">进程的基本介绍</h4>
<p>1)在 LINUX 中，每个执行的程序（代码）都称为一个进程。每一个进程都分配一个 ID 号。</p>
<p>2)每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程。例如 www 服务器。</p>
<p>3)每个进程都可能以两种方式存在的。前台与后台，所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。</p>
<p>4)一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中。直到关机才才结束。</p>
<h4 id="显示系统执行的进程">显示系统执行的进程</h4>
<p>查看进行使用的指令是  ps ,一般来说使用的参数是 ps -aux</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594038649910.png" alt="1594038649910"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594038680528.png" alt="1594038680528"></p>
<h4 id="ps-指令详解">ps 指令详解</h4>
<p>1)指令：ps –aux|grep xxx ，比如我看看有没有 sshd 服务</p>
<p>指令说明</p>
<p>•  System V 展示风格</p>
<p>•  USER：用户名称</p>
<p>•  PID：进程号</p>
<p>•  %CPU：进程占用 CPU 的百分比</p>
<p>•  %MEM：进程占用物理内存的百分比</p>
<p>• VSZ：进程占用的虚拟内存大小（单位：KB）</p>
<p>• RSS：进程占用的物理内存大小（单位：KB）</p>
<p>• TT：终端名称,缩写 .</p>
<p>• STAT：进程状态，其中 S-睡眠，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，R-正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等</p>
<p>• STARTED：进程的启动时间</p>
<p>• TIME：CPU 时间，即进程使用 CPU 的总时间</p>
<p>• COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</p>
<p><strong>要求：以全格式显示当前所有的进程，查看进程的父进程。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594038857538.png" alt="1594038857538"></p>
<p><strong>•</strong>  ps -ef 是以全格式显示当前所有的进程</p>
<p><strong>•</strong>  -e 显示所有进程。-f 全格式。</p>
<p>​		<strong>•</strong>  ps -ef|grep xxx</p>
<p>​		<strong>•</strong> 是 BSD 风格</p>
<p>​		<strong>•</strong> UID：用户 ID</p>
<p>​		<strong>•</strong> PID：进程 ID</p>
<p>​		<strong>•</strong> PPID：父进程 ID</p>
<p>​		<strong>•</strong> C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算，执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高</p>
<p>​		<strong>•</strong> STIME：进程启动的时间</p>
<p>​		<strong>•</strong> TTY：完整的终端名称</p>
<p>​		<strong>•</strong> TIME：CPU 时间</p>
<p>​		<strong>•</strong> CMD：启动进程所用的命令和参数</p>
<p>如果我们希望查看 sshd 进程的父进程号是多少，应该怎样查询 ？</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594038908719.png" alt="1594038908719"></p>
<p>可以看到是1.</p>
<h4 id="终止进程-kill-和-killall">终止进程 kill 和 killall</h4>
<p>若是某个进程执行一半需要停止时，或是已消了很大的系统资源时，此时可以考虑停止该进程。使用 kill 命令来完成此项任务。</p>
<pre><code>kill  [选项] 进程号（功能描述：通过进程号杀死进程）

killall 进程名称（功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）
</code></pre><p><strong>选项:</strong></p>
<p>-9 :表示强迫进程立即停止</p>
<p><strong>踢掉某个非法登录用户</strong></p>
<p>xshell用jack登录</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039007134.png" alt="1594039007134"></p>
<p><strong>终止远程登录服务 sshd, 在适当时候再次重启 sshd 服务</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039036135.png" alt="1594039036135"></p>
<p><strong>终止多个 gedit 编辑器 【killall , 通过进程名称来终止进程】</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039077859.png" alt="1594039077859"></p>
<p><strong>强制杀掉一个终端</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039104006.png" alt="1594039104006"></p>
<h4 id="查看进程树-pstree">查看进程树 pstree</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pstree <span style="color:#f92672">[</span>选项<span style="color:#f92672">]</span> ,可以更加直观的来看进程信息
</code></pre></div><p>-p :显示进程的 PID</p>
<p>-u :显示进程的所属用户</p>
<p><strong>树状的形式显示进程的 pid</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039184688.png" alt="1594039184688"></p>
<p><strong>树状的形式进程的用户 id pstree -u 即可。</strong></p>
<h2 id="服务service管理">服务(Service)管理</h2>
<p>服务(service) 本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysql , sshd 防火墙等)，因此我们又称为守护进程，是 Linux 中非常重要的知识点。</p>
<p>在 CentOS7.0 后 不再使用 service ,而是 systemctl</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039258444.png" alt="1594039258444"></p>
<h4 id="service-管理指令">service 管理指令：</h4>
<pre><code>service  服务名 [start | stop | restart | reload | status]
</code></pre><p><strong>查看当前防火墙的状况，关闭防火墙和重启防火墙。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039305238.png" alt="1594039305238"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039336933.png" alt="1594039336933"></p>
<p>CentOS用firewalld:   systemctl  status  firewalld</p>
<ol>
<li>关闭或者启用防火墙后，立即生效。[telnet 测试  某个端口即可]</li>
</ol>
<p>在window下</p>
<p>telnet不是命令的，是因为没有telnet客户端</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039381169.png" alt="1594039381169"></p>
<p>2)这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。</p>
<p>如果希望设置某个服务自启动或关闭永久生效，要使用 chkconfig 指令</p>
<h4 id="查看服务名">查看服务名:</h4>
<p>方式 1：使用 setup -&gt; 系统服务 就可以看到。(空格选中，回车确认，tab切换)</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039460191.png" alt="1594039460191"></p>
<p>方式 2:     /etc/init.d/服务名称</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039571261.png" alt="1594039571261"></p>
<h4 id="服务的运行级别runlevel">服务的运行级别(runlevel):</h4>
<p>查看或者修改默认级别：</p>
<pre><code>  vi    /etc/inittab
</code></pre><p>Linux 系统有 7 种运行级别(runlevel)：常用的是级别 3 和 5</p>
<p>• 运行级别 0：系统停机状态，系统默认运行级别不能设为 0，否则不能正常启动</p>
<p>• 运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆</p>
<p>• 运行级别 2：多用户状态(没有 NFS)，不支持网络</p>
<p>• 运行级别 3：完全的多用户状态(有 NFS)，登陆后进入控制台命令行模式</p>
<p>• 运行级别 4：系统未使用，保留</p>
<p>• 运行级别 5：X11 控制台，登陆后进入图形 GUI 模式</p>
<p>• 运行级别 6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动</p>
<h4 id="开机的流程说明">开机的流程说明</h4>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039668145.png" alt="1594039668145"></p>
<p>开机、BIOS自检、boot引导、init进程、判断运行级别、</p>
<h4 id="chkconfig-指令">chkconfig 指令</h4>
<p>通过 chkconfig 命令可以给每个服务的各个运行级别设置自启动/关闭</p>
<pre><code>查看服务 chkconfig --list|grep xxx
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039757144.png" alt="1594039757144"></p>
<p>chkconfig   服务名   &ndash;list</p>
<p>chkconfig   &ndash;level  5   服务名   on/off</p>
<p><strong>将 sshd 服务在运行级别为 5 的情况下，不要自启动</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039797350.png" alt="1594039797350"></p>
<p><strong>请显示当前系统所有服务的各个运行级别的运行状态</strong></p>
<p>bash&gt; chkconfig &ndash;list</p>
<p><strong>查看 sshd 服务的运行状态</strong>**</p>
<p>bash&gt; service sshd status</p>
<p><strong>将 sshd 服务在运行级别 5 下设置为不自动启动，看看有什么效果？</strong></p>
<p>bash&gt; chkconfig &ndash;level 5 sshd off</p>
<p><strong>当运行级别为 5 时，关闭防火墙。</strong></p>
<p>bash&gt; chkconfig  &ndash;level 5  iptables off</p>
<p><strong>在所有运行级别下，关闭防火墙</strong></p>
<p>bash&gt; chkconfig  iptables off</p>
<p><strong>在所有运行级别下，开启防火墙</strong></p>
<p>bash&gt; chkconfig  iptables  on</p>
<h4 id="动态监控进程">动态监控进程</h4>
<blockquote>
<p>top 与 ps 命令很相似。它们都用来显示正在执行的进程。Top 与 ps 最大的不同之处，在于 top 在执行一段时间可以更新正在运行的的进程。</p>
</blockquote>
<pre><code>top [选项]
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594039987313.png" alt="1594039987313"></p>
<p><strong>监视特定用户</strong></p>
<p>top：输入此命令，按回车键，查看执行的进程。</p>
<p>u：然后输入“u”回车，再输入用户名，即可</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594040023371.png" alt="1594040023371"></p>
<p><strong>终止指定的进程</strong></p>
<p>top：输入此命令，按回车键，查看执行的进程。</p>
<p>k：然后输入“k”回车，再输入要结束的进程 ID 号</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594040063985.png" alt="1594040063985"></p>
<p><strong>指定系统状态更新的时间(每隔 10 秒自动更新， 默认是 3 秒)：</strong></p>
<p>bash&gt; top -d 10</p>
<h4 id="查看系统网络情况-netstat重要">查看系统网络情况 netstat(重要)</h4>
<pre><code>netstat   [选项]

netstat  -anp

-an  按一定顺序排列输出

-p  显示哪个进程在调用
</code></pre><p>查看系统所有的网络服务</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594040174174.png" alt="1594040174174"></p>
<p>查看服务名为 sshd 的服务的信息。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594040196413.png" alt="1594040196413"></p>
<h3 id="rpm---和-yum">RPM   和 YUM</h3>
<h4 id="rpm-包的管理">rpm 包的管理</h4>
<blockquote>
<p>一种用于互联网下载包的打包及安装工具，它包含在某些 Linux 分发版中。它生成具有.RPM 扩展名的文件。RPM 是 RedHat Package Manager（RedHat 软件包管理工具）的缩写，类似 windows 的 setup.exe，这一文件格式名称虽然打上了 RedHat 的标志，但理念是通用的。</p>
<p>Linux 的分发版本都有采用（suse,redhat, centos 等等），可以算是公认的行业标准了。</p>
</blockquote>
<h4 id="rpm-包的简单查询指令">rpm 包的简单查询指令</h4>
<p>查询已安装的 rpm 列表 rpm  –qa|grep xx</p>
<p>请查询看一下，当前的 Linux 有没有安装 firefox .</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089056566.png" alt="1594089056566"></p>
<h3 id="rpm-包名基本格式">rpm 包名基本格式：</h3>
<p>一个 rpm 包名：firefox-45.0.1-1.el6.centos.x86_64.rpm 名称:firefox</p>
<p>版本号：45.0.1-1</p>
<p>适用操作系统: el6.centos.x86_64</p>
<p>表示 centos6.x 的 64 位系统</p>
<p>如果是 i686i386 32 noarch</p>
<h4 id="rpm-包的其它查询指令">rpm 包的其它查询指令：</h4>
<p>rpm -qa :查询所安装的所有 rpm 软件包</p>
<p>rpm -qa | more [分页显示]</p>
<p>rpm -qa | grep X [rpm -qa | grep firefox ]</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089139190.png" alt="1594089139190"></p>
<p>rpm -q 软件包名 :查询软件包是否安装</p>
<p>rpm -q firefox</p>
<p>rpm -qi 软件包名 ：查询软件包信息</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089158445.png" alt="1594089158445"></p>
<p>rpm -qi file</p>
<p>rpm -ql 软件包名 :查询软件包中的文件</p>
<p>rpm -ql firefox</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089191772.png" alt="1594089191772"></p>
<p>rpm -qf 文件全路径名 查询文件所属的软件包</p>
<p>rpm -qf /etc/passwd</p>
<p>rpm -qf /root/install.log</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_image001.jpg" alt="img"></p>
<h4 id="卸载-rpm-包">卸载 rpm 包：</h4>
<pre><code>rpm -e RPM 包的名称
</code></pre><p>删除 firefox  软件包</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089294137.png" alt="1594089294137"></p>
<ol>
<li>如果其它软件包依赖于您要卸载的软件包，卸载时则会产生错误信息。如：   $ rpm -e  foo</li>
</ol>
<p>removing these packages would break dependencies:foo is needed by bar-1.0-1</p>
<ol start="2">
<li>如果我们就是要删除 foo 这个 rpm 包，可以增加参数 &ndash;nodeps ,就可以强制删除，但是一般不推荐这样做，因为依赖于该软件包的程序可能无法运行</li>
</ol>
<p>如：$ rpm -e &ndash;nodeps foo</p>
<p>带上 &ndash;nodeps 就是强制删除。</p>
<h4 id="安装-rpm-包">安装 rpm 包：</h4>
<pre><code>rpm -ivh  RPM 包全路径名称
</code></pre><p>i=install 安 装</p>
<p>v=verbose 提 示</p>
<p>h=hash  进度条</p>
<ol>
<li>演示安装 firefox 浏览器</li>
</ol>
<p>步骤先找到 firefox 的安装 rpm 包,你需要挂载上我们安装 centos 的 iso 文件，然后到/media/下去找 rpm 找 。</p>
<pre><code>cp firefox-45.0.1-1.el6.centos.x86_64.rpm /opt/
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089388980.png" alt="1594089388980"></p>
<h3 id="yum">yum</h3>
<blockquote>
<p>Yum 是一个 <a href="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/https://baike.baidu.com/item/Shell">Shell </a>前端软件包管理器。基于 <a href="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/https://baike.baidu.com/item/RPM">RPM </a>包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。使用 yum 的前提是可以联网。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089423920.png" alt="1594089423920"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">查询 yum 服务器是否有需要安装的软件
yum list|grep xx 软件列表
安装指定的 yum 包
yum install xxx	下载安装

</code></pre></div><h3 id="heading"></h3>
<p><strong>使用 yum 的方式来安装 firefox</strong></p>
<p>先查看一下 firefox    rpm 在 yum 服务器有没有</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089517271.png" alt="1594089517271"></p>
<ol>
<li>安装</li>
</ol>
<p>yum install firefox</p>
<h2 id="搭建-javaee-环境">搭建 JavaEE 环境</h2>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089578388.png" alt="1594089578388"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089603193.png" alt="1594089603193"></p>
<h4 id="安装-jdk">安装 JDK</h4>
<ol start="0">
<li>
<p>先将软件通过 xftp5 上传到 /opt 下</p>
</li>
<li>
<p>解压缩到 /opt</p>
</li>
<li>
<p>配置环境变量的配置文件 vim    /etc/profile</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089685175.png" alt="1594089685175"></p>
<p>JAVA_HOME=/opt/jdk1.7.0_79</p>
<p>PATH=/opt/jdk1.7.0_79/bin:$PATH</p>
<p>export JAVA_HOME PATH</p>
<p><strong>3)需要注销用户，环境变量才能生效</strong></p>
<p>如果是在 3 运行级别， logout</p>
<p>如果是在 5 运行级别，</p>
<ol start="4">
<li>在任何目录下就可以使用 java 和 javac</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089893452.png" alt="1594089893452"></p>
<p>测试是否安装成功</p>
<p>​                <img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/clip_imag1e001.jpg" alt="img"> <br>
编写一个简单的 输出</p>
<p>Hello.java 输出&quot;hello,world!&quot;</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089954309.png" alt="1594089954309"></p>
<h4 id="安装-tomcat">安装 tomcat</h4>
<ol>
<li>解压缩到/opt</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594089990057.png" alt="1594089990057"></p>
<p>2)启动 tomcat    ./startup.sh</p>
<p>先进入到 tomcat 的 bin 目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090017998.png" alt="1594090017998"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090025822.png" alt="1594090025822"></p>
<p>使用 Linux 本地的浏览是可以访问到 tomcat</p>
<p>开放端口 8080 ,这样外网才能访问到 tomcat vim /etc/sysconfig/iptables</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090060315.png" alt="1594090060315"></p>
<p>重启防火墙</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090082996.png" alt="1594090082996"></p>
<p>测试是否安装成功：</p>
<p>在 windows、Linux  下  访问 http://linuxip:8080</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090112721.png" alt="1594090112721"></p>
<h4 id="eclipse-的安装">Eclipse 的安装</h4>
<ol>
<li>解压缩到/opt</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090161102.png" alt="1594090161102"></p>
<p>2)启动 eclipse，配置 jre 和 server</p>
<p>启动方法 1: 创建一个快捷方式</p>
<p>启动方式 2: 进入到  eclipse 解压后的文件夹，然后执行        ./eclipse    即可</p>
<p>3)编写 jsp 页面,并测试成功!</p>
<p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/1594090202684.png" alt="1594090202684"></p>
<h4 id="mysql-的安装和配置">mysql 的安装和配置</h4>
<pre><code>rpm -ivh MYSQL-server-***.rpm
rpm -ivh MYSQL-client-***.rpm
</code></pre><p>查看是否启动</p>
<pre><code>ps -ef|grep mysql
</code></pre><p>查看是否安装成功</p>
<pre><code>mysqladmin --version
</code></pre><p>启动服务</p>
<pre><code>service mysql start
</code></pre><p>连接</p>
<pre><code>mysql
</code></pre><p>改密码</p>
<pre><code>/usr/bin/mysqladmin -u root password 123456
</code></pre><p>连接</p>
<pre><code>mysql -uroot -p
</code></pre><p>设置开机自启动</p>
<pre><code>chkconfig mysql on
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/Linux/D:%5CBlog%5Csource_posts%5CLinux%5C1595838101340.png" alt="1595838101340"></p>
<p>拷贝配置文件</p>
<pre><code>cp /usr/share/mysql/my-huge.cnf /etc/my.cnf
</code></pre><h4 id="解决编码已创建的数据库不影响">解决编码(已创建的数据库不影响)</h4>
<p>显示字符集</p>
<pre><code>show variables like '%char%'
</code></pre><p>修改客户端和服务器的字符集</p>
<pre><code>vim /etc/my.cnf

//在[client]的socket的下方插入
//在光标的下一行插入 使用o
default-character-set=utf-8

//在[mysqld]的port下插入
character_set_server=utf8
character_set_client=utf8
collation-server=utf8_general_ci

//在[mysql]的no-auto-rehash下插入
default-character-set=utf8
</code></pre><h2 id="linux中常用到的命令">Linux中常用到的命令</h2>
<p>显示文件目录命令ls        如ls
改变当前目录命令cd        如cd /home
建立子目录mkdir           如mkdir xiong
删除子目录命令rmdir       如rmdir /mnt/cdrom
删除文件命令rm            如rm /ucdos.bat
文件复制命令cp            如cp /ucdos /fox
获取帮助信息命令man      如man ls
显示文件的内容less        如less mwm.lx</p>
<p>Linux文件属性有哪些？（共十位）
-rw-r&ndash;r&ndash;那个是权限符号，总共是- &mdash; &mdash; &mdash;这几个位。</p>
<p>第一个短横处是文件类型识别符：-表示普通文件；c表示字符设备（character）；b表示块设备（block）；d表示目录（directory）；l表示链接文件（link）；</p>
<p>第一个三个连续的短横是用户权限位（User）</p>
<p>第二个三个连续短横是组权限位（Group）</p>
<p>第三个三个连续短横是其他权限位（Other）。
每个权限位有三个权限，r（读权限），w（写权限），x（执行权限）。</p>
<p>如果每个权限位都有权限存在，那么满权限的情况就是：-rwxrwxrwx；权限为空的情况就是- &mdash; &mdash; &mdash;。
权限的设定可以用chmod命令，其格式位：chmod ugoa+/-/=rwx filename/directory。例如：
一个文件aaa具有完全空的权限- &mdash; &mdash; &mdash;。
chmod u+rw aaa（给用户权限位设置（增加）读写权限，其权限表示为：- rw- &mdash; &mdash;）
chmod g+r aaa（给组设置权限为可读，其权限表示为：- &mdash; r&ndash; &mdash;）
chmod ugo+rw aaa（给用户、组、其它用户或组设置权限为读写，权限表示为：- rw- rw- rw-）
如果aaa具有满权限- rwx rwx rwx。
chmod u-x aaa（去掉用户可执行权限，权限表示为：- rw- rwx rwx）
如果要给aaa赋予制定权限- rwx r-x r-x，命令为：
chmod u=rwx，go=rx aaa</p>
    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Kayleh </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://kayleh.top/linux/>https://kayleh.top/linux/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://kayleh.top/tags/linux/">
                    #linux</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://kayleh.top">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://kayleh.top/c-prime-plus/" class="prev" rel="prev" title="C pointer"><i class="iconfont icon-left"></i>&nbsp;C pointer</a>
         
        
        <a href="https://kayleh.top/j2se/" class="next" rel="next" title="J2SE">J2SE&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <script async="" src="https://widget.daovoice.io/widget/38b1c911.js" charset="utf-8"></script>
    <script data-ad-client="ca-pub-7457165067653912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      daovoice('init', {
        app_id: "38b1c911"
      });
      daovoice('update');
      </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"style="display:inline-block;width:728px;height:90px"data-ad-client="ca-pub-7457165067653912"data-ad-slot="9837525717"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    <script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?2cd1dc193190f18fed292accb735c684";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script>
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://kayleh.top">Kayleh</a> | </span> 
         

         
         <div class="busuanzi">
            
            <span>
                visitors:
                <span id="busuanzi_value_site_pv"></span>
            </span>

            
            
            
            
            
            <script async
                src="https://cdn.jsdelivr.net/gh/kayleh/cdn2/busuanzi/busuanzi.pure.mini.js"></script>

        </div>
		  
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
