<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://kayleh.top/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://kayleh.top/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github.min.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/github-style.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/light.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/dark.css' />
    <link rel="stylesheet" href='https://kayleh.top/css/syntax.css' />
    <title>中英文切换 - Kayleh</title>
    
    <link rel="icon" type="image/x-icon" href='https://kayleh.top/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="hexo
" />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://kayleh.top/%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="中英文切换 - Kayleh" />
<meta name="twitter:description"
  content="hexo
" />
<meta name="twitter:site" content="https://kayleh.top" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://kayleh.top">


<meta property="og:type" content="article" />
<meta property="og:title" content="中英文切换 - Kayleh">
<meta property="og:description"
  content="hexo
" />
<meta property="og:url" content="https://kayleh.top/%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/" />
<meta property="og:site_name" content="中英文切换" />
<meta property="og:image"
  content="https://kayleh.top">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2020-08-21 11:28:18 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://kayleh.top">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://kayleh.top">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://kayleh.top">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://kayleh.top">
                  <img class=" avatar-user"
                    src="http://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://kayleh.top">Kayleh</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://kayleh.top/%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/">中英文切换</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Fri, 21 Aug 2020 11:28:18 &#43;0800"
                    class="no-wrap">
                    Fri, 21 Aug 2020 11:28:18 &#43;0800</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div class="file-header d-flex flex-md-items-center flex-items-start">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    2273 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/front">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      front
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5">
                <article class="markdown-body entry-content container-lg"><p>hexo</p>
<p>感谢[<a href="https://chenyxmr.github.io/2016/08/04/hexo-bilingual/">陈年沉念]</a> 的博文分享。</p>
<p>具体操作请参阅<a href="https://chenyxmr.github.io/2016/08/04/hexo-bilingual/">陈年沉念的博文</a> 。</p>
<p>本文只提出几点需要特别注意的事项。</p>
<p>*<em>第一</em>, 有两个“点号” 在“/public/en” 的前面:</p>
<pre><code>修改/en/_config.yml，修改内容如下：

   language: en &lt;/br&gt;
   root: /en/  &lt;/br&gt;
   public_dir: ../public/en  &lt;/br&gt;
</code></pre><p><strong>第二</strong>, 也有两个“点号” 在 “commonweal:” 的前面:</p>
<pre><code>接下来在英文网站中添加中文入口。编辑/en/_config.yml，修改menu:中如下内容：

  commonweal: ../
</code></pre><p>顺便说一句, [<a href="https://chenyxmr.github.io/2016/08/04/hexo-bilingual/">陈年沉念]</a>写的”/update.bat” 很方便且实用。</p>
<p>最后，我自己再补充一点，就是在完全Copy完Hexo网站跟目录的内容后，在新建的/en/文件夹下，node_modules文件夹里面的代码可能不能被完全复制粘贴，此时需要在/en/文件夹下运行以下代码方可顺利发布/en/到网络端：</p>
<p>先 鼠标右键 git bash here，然后运行</p>
<pre><code>npm install hexo --save
npm install

npm install hexo-generator-index --save
npm install hexo-generator-archive --save
npm install hexo-generator-category --save
npm install hexo-generator-tag --save
npm install hexo-server --save
npm install hexo-deployer-git --save
npm install hexo-deployer-heroku --save
npm install hexo-deployer-rsync --save
npm install hexo-deployer-openshift --save
npm install hexo-renderer-marked@0.2 --save
npm install hexo-renderer-stylus@0.2 --save
npm install hexo-generator-feed@1 --save
npm install hexo-generator-sitemap@1 --save
</code></pre><p>完成上述附加的必要操作后，就可以顺利推送双语或多语博客到网络端啦。</p>
<hr>
<p>转载来源： <a href="https://chenyxmr.github.io/2016/08/04/hexo-bilingual/">https://chenyxmr.github.io/2016/08/04/hexo-bilingual/</a></p>
<p>前言
搭建个人博客时采用的hexo非常方便，但由于本人比较喜欢英语所以希望能搭建一个双语网站同步更新内容，hexo官方有提供国际化解决方案，具体参见链接https://hexo.io/zh-cn/docs/internationalization.html 。 但本人由于悟性比较低没有看明白这个插件应该怎么用，就索性自己用一个非常简单粗暴的方式实现了中英文双语网站。</p>
<p>首先，最终效果见本站。菜单栏中点击-&gt;English切换到英文网站，英文网站中点击-&gt;简体中文即切换回中文。当然每篇博文都需要自己翻译。</p>
<p>搭建教程
完整复制网站</p>
<p>首先，将网站根目录全部复制，然后在网站根目录下建立en/文件夹并将所复制的内容粘贴至此。此时en/文件夹下有一份完整的网站文件，也就是说这是一个独立的hexo博客。</p>
<p>en即为English的缩写，代表英文网站，当然也可以添加其它语言，文件夹名字随个人喜好。</p>
<p>更改英文网站配置</p>
<p>修改/en/_config.yml，修改内容如下：</p>
<p>language: en
root: /en/
public_dir: ../public/en</p>
<p>这里的public_dir代表最终生成静态文件的位置，由于最后要将英文网站静态网页跟中文静态网页放到同一根目录下，所以要进行修改。</p>
<p>添加语言切换入口</p>
<p>首先在中文网站中添加切换英文入口。语言切换入口对应网站的menu，编辑/_config.yml，修改menu:中如下内容：</p>
<p>commonweal: /en</p>
<p>这个键值对应所建立的英文网站文件夹的名称。</p>
<p>此处应该添加一个新的入口，但由于我的添加一直不正常所以直接将原有的公益菜单改成切换语言了~</p>
<p>再编辑/themes/next/languages/zh-Hans.yml，在menu:中修改如下字段：</p>
<p>commonweal: -&gt;English</p>
<p>这个键值对应切换语言选项显示的内容。</p>
<p>接下来在英文网站中添加中文入口。编辑/en/_config.yml，修改menu:中如下内容：</p>
<p>commonweal: ../</p>
<p>再编辑/en/themes/next/languages/en.yml，在menu:中修改如下字段：</p>
<p>commonweal: -&gt;简体中文</p>
<p>至此中英文站点即配置完成,如果英文网站需要更改细节直接更改en/下对应的文件就可以，和修改中文网站完全一样~</p>
<p>新建博文</p>
<p>每次在中文站点下新建博文并写好后，将博文复制到英文网站对应的目录下并修改成英文博文。</p>
<hr>
<p>关于Hexo的中英文语言配置，我的做法是，在菜单栏添加一个按键，通过按键切换到中/英文界面，让中文文章只显示在中文页面，英文显示在英文页面。</p>
<h2 id="插件安装">插件安装</h2>
<p>首先，安装hexo-generator-i18n插件</p>
<pre><code> npm install hexo-generator-i18n --save
</code></pre><p>然后修改*_config.yml*</p>
<pre><code>language: [zh-CN,en]# hexo-generator-i18n 选项（可选，默认使用如下设置）i18n:  type: [page, post]  generator: [index, archive, category, tag]
</code></pre><p><em>这里并没有明白tyte和generator的作用，但是似乎不影响</em></p>
<p>之后是*<strong>在主题languages目录下添加对应的语言.yml文件(如zh.yml, en.yml)*</strong></p>
<p>但是由于我使用的主题并不支持多语言，我也懒得弄，所有暂时没有管这一项</p>
<p>插件安装完成后，执行<code>hexo clean &amp; hexo g</code></p>
<p>会生成<code>public/en</code>目录，对于_post内的所有博文，都会在public里存放一份，en下存放一份。</p>
<p>那么就需要根据页面的语言，显示不同的博文。</p>
<h2 id="博文配置">博文配置</h2>
<p>对于所有的markdown文章，都需要在文章内添加属性<code>lang:zh-CN</code> or <code>lang:en</code>，来区分中英文</p>
<h2 id="网页配置">网页配置</h2>
<p>我通过url来区分中英文页面，对于中文，url是<code>www.yoursite.com</code>，英文，url是<code>www.yoursite.com/en/</code>,</p>
<p>这样，在js中检索url是否包含en，来判断显示中文还是英文界面。</p>
<p><strong>修改主题</strong>, 我的主题路径是<em>themes/vexo/layout/index.ejs</em></p>
<p>获取当前html的路径，并判断路径内是否存在<code>en</code></p>
<pre><code>&lt;main class=&quot;app-body&quot;&gt;
  &lt;% var currentURL = page.path.split('/') %&gt;
  &lt;% if (currentURL.length === 1) { %&gt;
    &lt;% var lang = page.lang %&gt;
  &lt;% } else { %&gt;
    &lt;% var lang = currentURL.shift() %&gt;
  &lt;% } %&gt;
  &lt;% page.posts.each(function(post) { %&gt;
  &lt;% if (lang == post.lang) { %&gt;
    &lt;article class=&quot;article-card&quot;&gt;
      &lt;h2 class=&quot;article-head&quot;&gt;
        &lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot;&gt;&lt;%- post.title %&gt;&lt;/a&gt;
      &lt;/h2&gt;
      &lt;p class=&quot;article-date&quot;&gt;&lt;%- date(post.date, &quot;LL&quot;) %&gt;&lt;/p&gt;
      &lt;% if (post.tags &amp;&amp; post.tags.length) { %&gt;
 [       &lt;%- partial('_partial/tag', { tags: post.tags }) %&gt;]
      &lt;% } %&gt;
      &lt;div class=&quot;article-summary&quot;&gt;
        &lt;% if (post.excerpt) { %&gt;
          &lt;%- post.excerpt %&gt;
        &lt;% } else { %&gt;
          &lt;%- truncate(strip_html(post.content), { length: 150, omission: ' ...' }) %&gt;
        &lt;% } %&gt;
      &lt;/div&gt;
      &lt;a class=&quot;more&quot; href=&quot;&lt;%- url_for(post.path) %&gt;&quot;&gt;&lt;%- theme.excerpt_link %&gt;&lt;/a&gt;
    &lt;/article&gt;
  &lt;% } %&gt;
  &lt;% }) %&gt;

  &lt;% if (page.total &gt; 1){ %&gt;
    &lt;%- partial('_partial/pager') %&gt;
  &lt;% } %&gt;
&lt;/main&gt;
</code></pre><p>上述都完成，就可以通过<code>www.yoursite.com/en</code>进入英文网页，且该网页只有英文文章</p>
<h2 id="添加切换语言按钮">添加切换语言按钮</h2>
<p>修改theme下的_config.yml文件, 添加一个EN的按钮，跳转到英文界面</p>
<pre><code>menu: Home: / Tags: /tags/ Archives: /archives/ Projects: /project/ About: /about/ EN: /en/
</code></pre><p>这里为了简单，没有动态修改EN这个按钮，提供从英文网页，跳转回中文网页的方式(实际上，点击Home按键，就跳转回中文了)</p>
<h2 id="部署测试">部署测试</h2>
<pre><code>hexo clean &amp; hexo ghexo d
</code></pre><p><em>这里只配置了主页，其他页面暂时没有修改</em></p></article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://kayleh.top">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://kayleh.top/js/github-style.js"></script>



</html>